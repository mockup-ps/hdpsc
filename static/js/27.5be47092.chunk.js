(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[27],{638:function(e,t,n){"use strict";var r=n(672),c=Object(r.a)("https://ctvjpxocqeajngziaxji.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyb2xlIjoiYW5vbiIsImlhdCI6MTYyMzE4Mjc3OSwiZXhwIjoxOTM4NzU4Nzc5fQ.pCQD8_U0cgWJtgLbOh90kUGpxpOmpwzDmsfwKzj7PwE");t.a=c},666:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r,c=n(1),a=["title","titleId"];function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e,t){if(null==e)return{};var n,r,c=function(e,t){if(null==e)return{};var n,r,c={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}function l(e,t){var n=e.title,l=e.titleId,d=s(e,a);return c.createElement("svg",i({id:"Capa_1",enableBackground:"new 0 0 511.996 511.996",height:80,viewBox:"0 0 511.996 511.996",width:80,xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":l},d),n?c.createElement("title",{id:l},n):null,r||(r=c.createElement("g",null,c.createElement("path",{d:"m473.104 112.473v358.908c0 22.43-18.186 40.616-40.616 40.616h-352.98c-22.43 0-40.616-18.186-40.616-40.616v-430.762c0-22.43 18.186-40.616 40.616-40.616h281.127z",fill:"#f8f6f9"}),c.createElement("path",{d:"m473.104 112.473h-71.854c-22.43 0-40.616-18.186-40.616-40.616v-71.853",fill:"#dddaec"}),c.createElement("g",null,c.createElement("path",{d:"m373.134 175.972c5.167-10.413.912-23.033-9.501-28.2l-32.583-16.139c-10.413-5.167-23.033-.912-28.2 9.501l-64.477 130.09-31.399-52.513c-5.966-9.981-18.875-13.228-28.856-7.262l-31.207 18.651c-9.965 5.966-13.228 18.875-7.262 28.856l61.87 103.49c3.951 6.606 11.197 10.541 18.875 10.237l43.859-1.728c7.694-.304 14.604-4.783 18.011-11.677z",fill:"#95d6a4"}),c.createElement("g",{fill:"#78c2a4"},c.createElement("path",{d:"m251.489 293.16 75.349-152.026c1.68-3.387 4.157-6.108 7.082-8.08l-2.87-1.422c-10.413-5.167-23.033-.912-28.2 9.501l-64.477 130.09z"}),c.createElement("path",{d:"m225.507 362.446-61.87-103.49c-5.966-9.981-2.703-22.889 7.262-28.856l29.954-17.902c-6.571-4.529-15.432-5.114-22.735-.749l-31.207 18.651c-9.965 5.966-13.228 18.875-7.262 28.856l61.87 103.49c3.951 6.606 11.197 10.541 18.874 10.237l17.774-.7c-5.219-1.391-9.803-4.76-12.66-9.537z"}))),c.createElement("path",{d:"m103.484 511.993h-23.972c-22.427 0-40.62-18.182-40.62-40.619v-430.755c0-22.437 18.193-40.619 40.62-40.619h23.972c-22.437 0-40.62 18.182-40.62 40.619v430.754c0 22.437 18.183 40.62 40.62 40.62z",fill:"#dddaec"}))))}var d=c.forwardRef(l);n.p},724:function(e,t,n){"use strict";n.r(t);var r=n(634),c=n.n(r),a=n(639),i=n(164),s=n(43),l=n(630),d=n(628),o=n(1),u=n(666),j=n(638),b=n(19),f=n(162),h=n(645),p=n.n(h),m=n(20);t.default=function(){var e=Object(f.c)((function(e){return e.simView})),t=Object(f.b)(),n=Object(b.g)(),r=Object(f.c)((function(e){return e.initial})),h=Object(o.useState)(1),O=Object(l.a)(h,2),x=O[0],v=O[1],g=Object(o.useState)({}),k=Object(l.a)(g,2),y=(k[0],k[1],function(e){var n=Object(s.a)(Object(s.a)({},r),{},Object(i.a)({},e.target.name,e.target.value));t({type:"set",initial:n})}),w=function(){var l=Object(a.a)(c.a.mark((function l(){var d,o,u,b;return c.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:if(r.namakapal&&r.imokapal&&r.tgldetensi){l.next=4;break}p.a.fire({icon:"error",text:"Harap Lengkapi"}),l.next=13;break;case 4:return l.next=6,j.a.from("td_detensi").insert([{data:r,kd_status:1}]);case 6:return d=l.sent,o=d.data,d.error,l.next=11,j.a.from("th_detensi").insert([{id_detensi:o[0].id_detensi,data:r,kd_status:1,createdby:e}]);case 11:u=l.sent,o.error||u.error?alert("Error"):(t({type:"set",initial:{}}),b=Object(s.a)(Object(s.a)(Object(i.a)({},"id_detensi",o[0].id_detensi),o[0].data),{},Object(i.a)({},"kd_status",o[0].kd_status)),t({type:"set",datadetensi:b}),p.a.fire({icon:"success",title:"Sukses !",text:"Apakah Anda Ingin Mengupload Cetakan Form A dan Form B ?",showDenyButton:!0,confirmButtonText:"Ya",denyButtonText:"Tidak"}).then((function(t){t.isConfirmed?function(){var t=Object(a.a)(c.a.mark((function t(r){var a,i;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.a.from("td_detensi").update({fl_lock:1,locked_by:e}).eq("id_detensi",r);case 2:if(a=t.sent,a.data,!(i=a.error)){t.next=9;break}return t.abrupt("return",i);case 9:n.push("/hdpsc/edit");case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()(o[0].id_detensi):function(){var e=Object(a.a)(c.a.mark((function e(t){var r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.from("td_detensi").update({fl_lock:0}).eq("id_detensi",t);case 2:if(r=e.sent,r.data,!(a=r.error)){e.next=9;break}return e.abrupt("return",a);case 9:n.push("/hdpsc");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o[0].id_detensi)})));case 13:case"end":return l.stop()}}),l)})));return function(){return l.apply(this,arguments)}}();return Object(m.jsx)(d.j,{children:Object(m.jsxs)(d.k,{children:[Object(m.jsx)("div",{className:"d-flex flex-row justify-content-center mb-4",children:Object(m.jsxs)("div",{onClick:function(){return v(e=1),void console.log(e);var e},className:"d-flex flex-column mr-5 align-items-center",children:[Object(m.jsx)(u.a,{role:"button",className:1==x?"on":"off"}),Object(m.jsx)("div",{className:"mt-1",children:Object(m.jsx)("b",{children:Object(m.jsx)("h5",{children:"Initial Info"})})})]})}),Object(m.jsx)(d.tb,{children:Object(m.jsxs)(d.u,{md:"12",children:[Object(m.jsx)(d.tb,{children:Object(m.jsx)(d.u,{md:"12",children:Object(m.jsxs)(d.K,{children:[Object(m.jsx)(d.Z,{children:Object(m.jsx)("b",{children:"Nama Kapal"})}),Object(m.jsx)(d.P,{name:"namakapal",value:r.namakapal,onChange:function(e){return y(e)}})]})})}),Object(m.jsx)(d.tb,{children:Object(m.jsx)(d.u,{md:"12",children:Object(m.jsxs)(d.K,{children:[Object(m.jsx)(d.Z,{children:Object(m.jsx)("b",{children:"Nomor IMO Kapal"})}),Object(m.jsx)(d.P,{name:"imokapal",value:r.imokapal,onChange:function(e){return y(e)}})]})})}),Object(m.jsx)(d.tb,{children:Object(m.jsx)(d.u,{md:"12",children:Object(m.jsxs)(d.K,{children:[Object(m.jsx)(d.Z,{children:Object(m.jsx)("b",{children:"Tanggal Detensi"})}),Object(m.jsx)(d.P,{name:"tgldetensi",value:r.tgldetensi,onChange:function(e){return y(e)},type:"date"})]})})}),Object(m.jsx)(d.tb,{children:Object(m.jsx)(d.u,{md:"12",children:Object(m.jsx)(d.K,{children:Object(m.jsxs)("div",{className:"d-flex justify-content-end",children:[Object(m.jsx)("div",{className:"mr-2",children:Object(m.jsx)(d.f,{onClick:function(){return w()},color:"success",children:"Simpan"})}),Object(m.jsx)("div",{className:"mr-2",children:Object(m.jsx)(d.f,{color:"danger",children:"Batal"})})]})})})})]})})]})})}}}]);
//# sourceMappingURL=27.5be47092.chunk.js.map