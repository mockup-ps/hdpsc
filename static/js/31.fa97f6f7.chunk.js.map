{"version":3,"sources":["supabase.js","../node_modules/uid/dist/index.mjs","views/pages/Viavalen/actionComponent.js","views/pages/Viavalen/Viavalen.js"],"names":["supabase","createClient","process","BUFFER","IDX","HEX","toString","substring","uid","len","i","tmp","SIZE","Math","random","ViewOnly","className","class","ViewAndCAP","props","history","useHistory","trigger","useSelector","state","useState","disabled","setDisabled","dispatch","useDispatch","data","setData","modal","setModal","item","setItem","handleChange","simView","e","target","name","value","handleUpload","a","file","files","console","log","storage","from","upload","error","alert","url","Key","update","url_doc","eq","Swal","fire","icon","title","timer","type","useEffect","select","datadetensi","id_detensi","td_deficiency","sementara","map","x","data_cap","id_deficiency","certificate","label","sort","b","handleDelete","size","show","onClose","onClick","push","addTableClasses","items","fields","key","_style","width","scopedSlots","index","href","role","onInput","id","for","certificatetitle","issuingauthority","onChange","actiontaken","responsiblero","color","kd_status","Edit","fl_lock","text","showConfirmButton","showDenyButton","denyButtonText","confirmButtonText","then","isConfirmed","hehe","locked_by","updateLock","Viavalen","arrView","details","setDetails","arrWarna","field","setField","validasiDuplikat","imokapal","tgldetensi","JSON","stringify","td_detensi","length","initial","html","timerProgressBar","result","detensi","urstatus","datas","tr_status","th_detensi","md","locked","locker","position","indexOf","newDetails","slice","splice","toggleDetails","parseInt","ur_status","includes","histori","date","Date","created_at","hari","getDate","bulan","getMonth","tahun","getFullYear","jam","getHours","menit","getMinutes","detik","getSeconds","style","minWidth","createdby"],"mappings":"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","file":"static/js/31.fa97f6f7.chunk.js","sourcesContent":["import { createClient } from '@supabase/supabase-js'\r\n\r\nconst supabaseUrl = 'https://ctvjpxocqeajngziaxji.supabase.co'\r\nconst supabaseKey = process.env.REACT_APP_SUPABASE_KEY\r\nconst supabase = createClient(supabaseUrl, supabaseKey)\r\n\r\nexport default supabase","var IDX=256, HEX=[], SIZE=256, BUFFER;\nwhile (IDX--) HEX[IDX] = (IDX + 256).toString(16).substring(1);\n\nexport function uid(len) {\n\tvar i=0, tmp=(len || 11);\n\tif (!BUFFER || ((IDX + tmp) > SIZE*2)) {\n\t\tfor (BUFFER='',IDX=0; i < SIZE; i++) {\n\t\t\tBUFFER += HEX[Math.random() * 256 | 0];\n\t\t}\n\t}\n\n\treturn BUFFER.substring(IDX, IDX++ + tmp);\n}\n","import { CButton, CDataTable, CModal, CModalBody, CModalFooter, CModalHeader, CTextarea, CSelect, CTooltip} from '@coreui/react'\r\nimport {React, useState, useEffect} from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Swal from 'sweetalert2';\r\nimport { uid } from 'uid';\r\nimport supabase from '../../../supabase'\r\n\r\nconst ViewOnly = () =>{\r\n    return(\r\n        <div className=\"d-flex flex-row justify-content-center\">\r\n            <div>\r\n                <CButton className=\"btn btn-sm btn-success\">\r\n                    <i class=\"fas fa-eye\"></i>\r\n                </CButton>                                 \r\n            </div>                                  \r\n        </div>          \r\n    )\r\n}\r\n\r\nconst ViewAndMonitor = (props) =>{\r\n    const simView = useSelector((state)=>state.simView)\r\n    const [modal, setModal] = useState(false)\r\n    const [item, setItem] = useState([])\r\n    useEffect(async () => {\r\n        let { data: td_deficiency, error } = await supabase\r\n        .from('td_deficiency')\r\n        .select(`\r\n        data, \r\n        actionplan\r\n        `)\r\n        .eq('id_detensi', props.datadetensi.id_detensi)\r\n        .eq('data->responsiblero', JSON.stringify(simView))  \r\n        let sementara = td_deficiency.map((x)=>{\r\n            return(\r\n                {...x.data, ['actionplan']:x.actionplan}\r\n            )\r\n        })\r\n        console.log(sementara)\r\n        setItem(sementara)     \r\n      },[]);    \r\n    return(\r\n        <>\r\n        <CModal\r\n        show={modal}\r\n        onClose={()=>setModal(false)}\r\n        size=\"xl\"\r\n        >\r\n            <CModalHeader>\r\n                <h5>Monitoring Detensi Kapal {props.datadetensi.namakapal} </h5>\r\n            </CModalHeader>\r\n            <CModalBody>\r\n                <CDataTable\r\n                addTableClasses=\"josss\"\r\n                items={item}\r\n                fields={[\r\n                    {key:'no', label:'No'},\r\n                    {key:'natureofdeficiency', label:'Nature of Deficiency'},\r\n                    {key:'actionplan', label:'Action Plan'},\r\n                    {key:'action', label:'Action'},\r\n                ]}\r\n                scopedSlots={{\r\n                    'no':\r\n                    (item, index)=>{\r\n                        return(\r\n                            <td>\r\n                                {index+1}\r\n                            </td>\r\n                        )\r\n                    },\r\n                    'action':\r\n                    (item, index)=>{\r\n                        return(\r\n                            <td>\r\n                                <div className=\"d-flex justify-content-center\">\r\n                                    <div className=\"mr-2\">\r\n                                        <CButton className=\"btn btn-sm btn-success\">Setujui</CButton>\r\n                                    </div>\r\n                                    <div className=\"mr-2\">\r\n                                        <CButton className=\"btn btn-sm btn-danger\">Tolak</CButton>\r\n                                    </div>                                    \r\n                                </div>\r\n                            </td>\r\n                        )\r\n                    }\r\n                }}\r\n                />\r\n            </CModalBody>\r\n        </CModal>\r\n        <div className=\"d-flex flex-row justify-content-center\">\r\n            <div className=\"mr-2\">\r\n                <CButton className=\"btn btn-sm btn-success\">\r\n                    <i class=\"fas fa-eye\"></i>\r\n                </CButton>                                     \r\n            </div>  \r\n            <div>\r\n                <CButton onClick={()=>setModal(true)} className=\"btn btn-sm btn-warning\">\r\n                    <i class=\"fas fa-desktop\"></i>\r\n                </CButton>                                     \r\n            </div>                                   \r\n        </div>   \r\n        </>      \r\n    )\r\n}\r\n\r\nconst ViewAndCAP = (props) =>{\r\n    const history = useHistory()\r\n    const trigger = useSelector((state)=>state.trigger)\r\n    const [disabled, setDisabled] = useState(false)\r\n    const dispatch = useDispatch()\r\n    const [data, setData] = useState([])\r\n    const [modal, setModal] = useState(false)\r\n    const [item, setItem] = useState([])\r\n    const simView = useSelector((state)=>state.simView)\r\n    const arrResponsible = [\"Dit. KPLP\", \"Dit. KAPEL\", \"BKI\", \"Kemenlu\"]\r\n    const handleChange= (e) => {\r\n        setData({...data, [e.target.name]:e.target.value})\r\n    }\r\n    const handleSimpan = async () =>{\r\n        const { data, error } = await supabase\r\n        .from('td_detensi')\r\n        .update({ data_cap: data })\r\n        .eq('id_detensi', props.datadetensi.id_detensi)        \r\n    }\r\n    const handleUpload = async (e, a) =>{       \r\n        const file = e.target.files[0]\r\n        console.log(a)\r\n        const { data, error } = await supabase\r\n        .storage\r\n        .from('dokumen')\r\n        .upload(uid(32) , file)    \r\n        if (error){\r\n            alert(\"Error\")\r\n        } else {\r\n            const url = 'https://ctvjpxocqeajngziaxji.supabase.co/storage/v1/object/public/'+ data.Key\r\n            console.log(url)\r\n            const uploadFile = await supabase\r\n            .from('td_deficiency')\r\n            .update({ url_doc: url })\r\n            .eq('id_deficiency', a)\r\n            if (!uploadFile.error){\r\n                // alert(\"Sukses\")\r\n                Swal.fire({\r\n                    icon: 'success',\r\n                    title: 'Sukses',\r\n                    timer:300\r\n                  })\r\n                dispatch({type:'set', trigger:trigger+1})\r\n            }\r\n        }\r\n    }     \r\n    useEffect(async () => {\r\n        let { data: td_deficiency, error } = await supabase\r\n        .from('td_deficiency')\r\n        .select(`\r\n        data, \r\n        data_cap,\r\n        id_deficiency,\r\n        url_doc\r\n        `)\r\n        .eq('id_detensi', props.datadetensi.id_detensi)\r\n        // .eq('data->responsiblero', simView)  \r\n        let sementara = td_deficiency.map((x)=>{\r\n            return(\r\n                {...x.data, ['data_cap']:x.data_cap, ['id_deficiency']:x.id_deficiency, ['certificatetitle']:x.data.certificate.label, ['url_doc']:x.url_doc}\r\n            )\r\n        })\r\n        setItem(sementara.sort((a,b)=>{\r\n            return a.id_deficiency - b.id_deficiency\r\n        }))  \r\n        setData(sementara)\r\n        console.log(data)\r\n        console.log(sementara)    \r\n      },[trigger]);\r\n      const handleDelete = async(a) =>{\r\n        const deleteFile = await supabase\r\n        .from('td_deficiency')\r\n        .update({ url_doc: null })\r\n        .eq('id_deficiency', a) \r\n        if (!deleteFile.error){\r\n            // alert(\"Sukses\")\r\n            Swal.fire({\r\n                icon: 'success',\r\n                title: 'Sukses',\r\n                timer:300\r\n              })\r\n            dispatch({type:'set', trigger:trigger+1})\r\n        }                 \r\n      }  \r\n      const handleRelease = () =>{\r\n        history.push('/hdpsc/edit')\r\n        dispatch({type:'set', datadetensi:props.datadetensi})          \r\n      }      \r\n    return(\r\n        <>\r\n        <CModal\r\n        size=\"xl\"\r\n        show={modal}\r\n        onClose ={()=>setModal(false)}\r\n        >\r\n            <CModalHeader>\r\n                <h5><i>Correction Action Plan</i></h5>\r\n            </CModalHeader>\r\n            <CModalBody>\r\n                <div className=\"mt-1\">\r\n                    <div className=\"d-flex justify-content-end mb-1\">\r\n                        <CButton disabled={disabled} onClick={()=>handleRelease()} className=\"btn btn-info btn-sm\"><i className=\"fas fa-ship mr-2\"></i>Kapal <i>Release</i></CButton>\r\n                    </div>\r\n                    <CDataTable\r\n                    addTableClasses=\"josss\"\r\n                    items={item}\r\n                    fields={[\r\n                        {key:\"no\", label:\"No\", _style: { width: '1%'}},\r\n                        {key:\"natureofdeficiency\", label:\"Nature of Deficiency\", _style: { width: '15%'}},\r\n                        {key:\"actiontaken\", label:\"Code\", _style: { width: '1%'}},\r\n                        // {key:\"responsiblero\", label:\"Responsible RO\"}, \r\n                        {key:\"issuingauthority\", label:\"Certificate / Issuer\", _style: { width: '5%'}},                        \r\n                        {key:\"actionplan\", label:\"Action Plan\"},\r\n                        {key:\"result\", label:\"Result\"},\r\n                        {key:\"remark\", label:\"Remarks\", _style: { width: '12%'}},\r\n                        {key:\"doc\", label:\"Docs\"}\r\n                    ]}\r\n                    scopedSlots={{\r\n                        'doc':\r\n                        (item, index)=>{\r\n                            if (item.url_doc){\r\n                                return(\r\n                                    <td>\r\n                                        <div className=\"d-flex justify-content-center\">\r\n                                            <a target=\"_blank\" href={item.url_doc} role=\"button\" className=\"btn btn-info btn-sm mr-1\"><i class=\"fas fa-file-download\"></i></a>  \r\n                                            <CButton disabled={disabled} onClick={()=>handleDelete(item.id_deficiency)} className=\"btn btn-danger btn-sm\"><i class=\"fas fa-trash-alt\"></i></CButton>                                                                            \r\n                                        </div>\r\n                                    </td>\r\n                                )\r\n                            } else {\r\n                                const id_deficiency = item.id_deficiency\r\n                                return(\r\n                                    <td>\r\n                                        <div className=\"d-flex justify-content-center\">\r\n                                            <input onInput={(e)=>handleUpload(e, id_deficiency)} type=\"file\" name=\"upload\" id=\"file\" class=\"inputfile\" />\r\n                                            <label role=\"button\" className=\"btn btn-success btn-sm\"for=\"file\"><i class=\"far fa-file\"></i></label>                                                                                \r\n                                        </div>\r\n                                    </td>\r\n                                )                                \r\n                            }\r\n                        },\r\n                        'issuingauthority':\r\n                        (item, index)=>{\r\n                            return(\r\n                                <td>\r\n                                    {item.certificatetitle} / {item.issuingauthority}\r\n                                </td>\r\n                            )\r\n                        },\r\n                        'result':\r\n                        (item, index)=>{\r\n                            return(\r\n                                <td>\r\n                                    <CTextarea name=\"result\"  onChange={(e)=>handleChange(e)} disabled={disabled}></CTextarea>\r\n                                </td>\r\n                            )\r\n                        },\r\n                        'remark':\r\n                        (item, index)=>{\r\n                                return(\r\n                                    <td>\r\n                                        <CSelect name=\"remark\"  onChange={(e)=>handleChange(e)} disabled={disabled}>\r\n                                            <option value=\"0\">NOT CLOSED</option>\r\n                                            <option value=\"1\">CLOSED</option>\r\n                                        </CSelect>\r\n                                    </td>\r\n                                )\r\n                        },\r\n                        'actiontaken':\r\n                        (item, index)=>{\r\n                            return(\r\n                                <td>\r\n                                    {item.actiontaken.value}\r\n                                </td>\r\n                            )\r\n                        },\r\n                        'responsiblero':\r\n                        (item, index) =>{\r\n                            console.log(item)\r\n                            return(\r\n                                <td>\r\n                                    {\r\n                                        item.responsiblero ?\r\n                                        \"Yes\"\r\n                                        :\r\n                                        \"No\"\r\n                                    }\r\n                                </td>\r\n                            )\r\n                        },\r\n                        'no':\r\n                        (item, index)=>{\r\n                            return(\r\n                                <td>\r\n                                    {index+1}\r\n                                </td>\r\n                            )\r\n                        },\r\n                        'actionplan':\r\n                        (item, index)=>{\r\n                            return(\r\n                                <td>\r\n                                    <CTextarea name=\"actionplan\"  onChange={(e)=>handleChange(e)} disabled={disabled}></CTextarea>\r\n                                </td>\r\n                            )\r\n                        }\r\n                    }}\r\n                    />\r\n                </div>\r\n            </CModalBody>\r\n            <CModalFooter>\r\n                <div className=\"d-flex justify-content-end\">\r\n                    <div className=\"mr-2\">\r\n                        <CButton onClick={()=>setModal(false)} color=\"success\">Simpan</CButton>\r\n                    </div>\r\n                    <div className=\"mr-2\">\r\n                        <CButton onClick={()=>setModal(false)} color=\"danger\">Batal</CButton>\r\n                    </div>                    \r\n                </div>\r\n            </CModalFooter>\r\n        </CModal>\r\n        <div className=\"d-flex flex-row justify-content-center\">\r\n            {\r\n                props.datadetensi.kd_status == 4 ?\r\n                <div className=\"mr-2\">\r\n                    <CButton onClick={()=>{\r\n                        history.push('/hdpsc/edit')\r\n                        dispatch({type:'set', datadetensi:props.datadetensi})                    \r\n                    }}className=\"btn btn-sm btn-success\">\r\n                        <i class=\"fas fa-eye\"></i>\r\n                    </CButton>                                     \r\n                </div> \r\n                :\r\n                <></>                \r\n            } \r\n            <div>\r\n                <CButton onClick={()=>{\r\n                    if(props.datadetensi.kd_status == 4){\r\n                        setDisabled(true)\r\n                    }\r\n                    setModal(true)                    \r\n                }} className=\"btn btn-sm btn-info\">\r\n                    <i class=\"fas fa-wrench\"></i>\r\n                </CButton>                                     \r\n            </div>                                   \r\n        </div> \r\n        </>       \r\n    )\r\n}\r\n\r\nconst Edit = (props) =>{\r\n    const history = useHistory()\r\n    const dispatch = useDispatch()\r\n    const simView = useSelector((state)=>state.simView)\r\n    const handleEdit = () =>{\r\n        if(!props.datadetensi.fl_lock){\r\n            Swal.fire({\r\n                icon:'question',\r\n                text:'Apakah Anda Yakin ingin Men-Check Out informasi ini ?',\r\n                showConfirmButton:true,\r\n                showDenyButton:true,\r\n                denyButtonText:'Tidak',\r\n                confirmButtonText:'Ya'\r\n            }).then((x)=>{\r\n                if (x.isConfirmed){\r\n                    const updateLock = async(hehe) =>{\r\n                        const { data, error } = await supabase\r\n                        .from('td_detensi')\r\n                        .update({ \r\n                            fl_lock: 1, \r\n                            locked_by:simView                          \r\n                        })\r\n                        .eq('id_detensi', hehe)\r\n                        if(error){\r\n                            return error\r\n                        } else {\r\n                            history.push('/hdpsc/edit')\r\n                            dispatch({type:'set', datadetensi:props.datadetensi})\r\n                        }\r\n                    }     \r\n                    // const updateHistori = async (hehe) =>{\r\n                    //     const { data, error } = await supabase\r\n                    //     .from('th_detensi')\r\n                    //     .insert([\r\n                    //         { id_detensi: hehe, kd_status : 5, createdby:simView, locked_by:simView},\r\n                    //     ])\r\n                    //     if (error){\r\n                    //         return error\r\n                    //     } else {\r\n                    //         history.push('/hdpsc/edit')\r\n                    //         dispatch({type:'set', datadetensi:props.datadetensi})\r\n                    //     }                     \r\n                    // }\r\n                    updateLock(props.datadetensi.id_detensi)                    \r\n                }\r\n            })\r\n        } else {\r\n            history.push('/hdpsc/edit')\r\n            dispatch({type:'set', datadetensi:props.datadetensi})\r\n        }\r\n    }     \r\n    return(\r\n        <div className=\"d-flex flex-row justify-content-center\">\r\n            {/* <div className=\"mr-2\">\r\n                <CButton className=\"btn btn-sm btn-success\">\r\n                    <i class=\"fas fa-eye\"></i>\r\n                </CButton>                                     \r\n            </div>   */}\r\n            {props.disabled}\r\n            <div>\r\n                    <div>\r\n                        <CButton disabled={props.disabled} onClick={()=>handleEdit()} \r\n                        className={\r\n                            props.fl_lock && props.disabled ?\r\n                            \"btn btn-sm btn-success\"\r\n                            :\r\n                            props.fl_lock ?\r\n                            \"btn btn-sm btn-warning\"\r\n                            :\r\n                            \"btn btn-sm btn-success\"\r\n                        }\r\n                        >\r\n                        {\r\n                            props.fl_lock && props.disabled ?\r\n                            <i class=\"fas fa-check\"></i>\r\n                            :\r\n                            props.fl_lock ?\r\n                            <i class=\"fas fa-pencil-alt\"></i>\r\n                            :\r\n                            <i class=\"fas fa-check\"></i>\r\n                        }\r\n                        </CButton>                         \r\n                    </div>                                   \r\n            </div>                                   \r\n        </div>          \r\n    )\r\n}\r\n\r\nexport {ViewOnly, Edit, ViewAndCAP, ViewAndMonitor}","import { CCardHeader, CCard, CCardBody, CDataTable, CBadge, CButton, CCollapse, CCol, CRow, CModal, CModalHeader, CModalBody, CModalFooter, CFormGroup, CLabel, CInput, CSelect } from '@coreui/react'\r\nimport {React, useEffect, useState} from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport supabase from '../../../supabase'\r\nimport {Edit, ViewOnly, ViewAndCAP, ViewAndMonitor} from './actionComponent'\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Swal from 'sweetalert2'\r\n\r\nconst Viavalen = () =>{\r\n    const dispatch = useDispatch()\r\n    const arrView = [\"Direktorat KPLP\", \"Direktorat KAPEL\", \"BKI\",\"Kemenlu\", \"Kemenkomarves\"] \r\n    let history = useHistory()\r\n    const [data, setData] = useState([])\r\n    const [details, setDetails] = useState([])\r\n    const arrWarna = [\"success\",\"primary\",\"warning\",\"info\", \"danger\", \"light\"]\r\n    const [modal, setModal] = useState(false)\r\n    const simView = useSelector((state)=>state.simView)\r\n    const [field, setField] = useState({})\r\n    const handleChange = (e) =>{\r\n        setField({...field, [e.target.name]:e.target.value})\r\n    }\r\n    const validasiDuplikat = async () =>{\r\n        if (field.imokapal && field.tgldetensi){\r\n            let { data: td_detensi, error } = await supabase\r\n            .from('td_detensi')\r\n            .select(\"*\")\r\n            .eq('data->imokapal', JSON.stringify(field.imokapal))\r\n            .eq('data->tgldetensi', JSON.stringify(field.tgldetensi))\r\n            if (td_detensi.length){\r\n                Swal.fire({\r\n                    icon: 'error',\r\n                    title: 'Oops...',\r\n                    text: 'Data Detensi tersebut Sudah Pernah Diajukan Sebelumnya'\r\n                  })\r\n            } else {\r\n                let initial = {}\r\n                initial.imokapal = field.imokapal\r\n                initial.tgldetensi = field.tgldetensi\r\n                dispatch({type:'set', initial: initial})               \r\n                Swal.fire({\r\n                  icon: 'success',                    \r\n                  title: 'Validasi Sukses',\r\n                  html: 'Anda Akan Diarahkan ke Halaman Selanjutnya',\r\n                  timer: 1500,\r\n                  timerProgressBar: true\r\n                }).then((result) => {\r\n                    history.push('/hdpsc/new')\r\n                })                \r\n            }           \r\n        } else {\r\n            console.log(field.imokapal, field.tgldetensi)\r\n        }\r\n    }\r\n    const toggleDetails = (index) => {\r\n        const position = details.indexOf(index)\r\n        let newDetails = details.slice()\r\n        if (position !== -1) {\r\n          newDetails.splice(position, 1)\r\n        } else {\r\n          newDetails = [...details, index]\r\n        }\r\n        setDetails(newDetails)\r\n      } \r\n    useEffect(async () => {\r\n        const detensi = await supabase\r\n        .from('td_detensi')\r\n        .select(`\r\n            id_detensi,\r\n            data,\r\n            fl_lock,\r\n            locked_by,\r\n            tr_status (\r\n                kd_status,\r\n                ur_status\r\n            ),\r\n            th_detensi (\r\n                kd_status,\r\n                created_at,\r\n                createdby,\r\n                locked_by\r\n            )\r\n        `)          \r\n        const urstatus = await supabase\r\n        .from('tr_status')\r\n        .select(`\r\n            kd_status,\r\n            ur_status\r\n        `)         \r\n        let datas = detensi.data.map(x=>{\r\n            return(\r\n                {['id_detensi']:x.id_detensi, ...x.data, ...x.tr_status, ['histori']:x.th_detensi, ['locked_by']:x.locked_by, ['fl_lock']:x.fl_lock}\r\n            )\r\n        })\r\n        setData(datas)   \r\n        console.log(urstatus)\r\n      },[]);      \r\n    return(\r\n        <>\r\n        {/* history.push('/hdpsc/new') */}\r\n        <CModal\r\n        show={modal}\r\n        onClose={()=>setModal(false)}\r\n        >\r\n            <CModalHeader>\r\n                <h5>Masukkan Data Awal</h5>\r\n            </CModalHeader>\r\n            <CModalBody>               \r\n                <CRow>\r\n                    <CCol md=\"12\">\r\n                        <CFormGroup>\r\n                            <CLabel>Nomor IMO Kapal</CLabel>\r\n                            <CInput value={field.imokapal} name=\"imokapal\" onChange={(e)=>handleChange(e)} type=\"text\"/>\r\n                        </CFormGroup>\r\n                    </CCol>\r\n                </CRow>\r\n                <CRow>\r\n                    <CCol md=\"12\">\r\n                        <CFormGroup>\r\n                            <CLabel>Tanggal Detensi</CLabel>\r\n                            <CInput value={field.tgldetensi} name=\"tgldetensi\" onChange={(e)=>handleChange(e)} type=\"date\"/>\r\n                        </CFormGroup>\r\n                    </CCol>\r\n                </CRow>                \r\n            </CModalBody>\r\n            <CModalFooter>\r\n                <div className=\"d-flex justify-content-end\">\r\n                    <div className=\"mr-2\">\r\n                        <CButton onClick={()=>validasiDuplikat()} color=\"success\">Lanjutkan</CButton>\r\n                    </div>\r\n                    <div className=\"mr-2\">\r\n                        <CButton onClick={()=>setModal(false)} color=\"danger\">Batal</CButton>\r\n                    </div>                    \r\n                </div>\r\n            </CModalFooter>\r\n        </CModal>\r\n        <CCard>\r\n            <CCardHeader>\r\n                <h5>Data Detensi Kapal</h5>\r\n            </CCardHeader>          \r\n            <CCardBody>\r\n                {\r\n                    simView == 1 || simView == 2 || simView == 3 ?\r\n                    <>\r\n                        <div className=\"d-flex justify-content-end mb-2\">\r\n                            <CButton onClick={()=>setModal(true)} className=\"btn btn-info\">\r\n                                Buat Baru <i class=\"fas fa-plus\"></i>\r\n                            </CButton>\r\n                        </div>  \r\n                    </>\r\n                    :\r\n                    <></>                                        \r\n                }                \r\n                <CDataTable\r\n                addTableClasses=\"josss\"\r\n                items={data}\r\n                fields={[\r\n                    { key: 'no', label: 'No', _style: { width: '5%'} },\r\n                    { key: 'namakapal', label: 'Nama Kapal' },\r\n                    { key: 'imokapal', label: 'Nomor IMO Kapal' },\r\n                    { key: 'tgldetensi', label: 'Tanggal Detensi' },\r\n                    { key: 'status', label: 'Status' }, \r\n                    { key: 'lock', label: 'Available ?', _style: { width: '15%'}},                    \r\n                    { key: 'action', label: 'Action' }                                        \r\n                ]}\r\n                scopedSlots={{\r\n                    'lock':\r\n                    (item, index) =>{\r\n                    let locked\r\n                    let locker \r\n                    if (item.locked_by == simView){\r\n                        locker=\"Me\"\r\n                    } else {\r\n                        locker=arrView[item.locked_by-1]\r\n                    }\r\n                    if(item.fl_lock){\r\n                        locked = \"Checked Out by \"+locker\r\n                    } else {\r\n                        locked = \"Available\"\r\n                    }\r\n                    return(\r\n                        <td>\r\n                            {locked}\r\n                        </td>\r\n                    )\r\n                    },\r\n                    'no':\r\n                    (item, index)=>{\r\n                        return(\r\n                            <td>\r\n                                {index+1}\r\n                            </td>\r\n                        )\r\n                    },\r\n                    'status':\r\n                    (item, index) =>{\r\n                        return(\r\n                            <td>\r\n                                <CBadge onClick={()=>{toggleDetails(index)}} role=\"button\" color={arrWarna[parseInt(item.kd_status)-1]}>\r\n                                    {item.ur_status}                                \r\n                                </CBadge>\r\n                            </td>\r\n                        )\r\n                    },\r\n                    'action':\r\n                    (item, index) =>{\r\n                        console.log(item)\r\n                        console.log()\r\n                        let locker = arrView[item.locked_by-1]\r\n                        let locked\r\n                        if (item.fl_lock){\r\n                            if (item.locked_by == simView){\r\n                                locked = false\r\n                            } else {\r\n                                locked = true\r\n                            }\r\n                        } else {\r\n                            locked = false\r\n                        }\r\n                        return(\r\n                            <td>\r\n                                {\r\n                                    (simView == 1 || simView == 2 || simView == 3) && item.kd_status == 3 ?\r\n                                    <ViewAndCAP datadetensi={item} datadetensi={item}/>\r\n                                    :                                  \r\n                                    (simView == 1 || simView == 2 || simView == 3) && item.kd_status != 4 ?\r\n                                    <Edit  fl_lock={item.fl_lock} locker={locker} disabled={locked} datadetensi={item} />\r\n                                    :\r\n                                    (simView == 1 || simView == 2 || simView == 3) && item.kd_status == 4 ?\r\n                                    <ViewAndCAP datadetensi={item} datadetensi={item}/>\r\n                                    :\r\n                                    <ViewOnly/>\r\n                                }                                \r\n                            </td>\r\n                        )\r\n                    },\r\n                    'details':\r\n                    (item, index) =>{\r\n                        console.log(item)\r\n                        return(\r\n                            <CCollapse show={details.includes(index)}>\r\n                                {item.histori.map(x=>{\r\n                                    let date = new Date(x.created_at)\r\n                                    let hari = date.getDate()\r\n                                    let bulan = date.getMonth() + 1\r\n                                    let tahun = date.getFullYear()\r\n                                    let jam = date.getHours()\r\n                                    let menit = date.getMinutes()\r\n                                    let detik = date.getSeconds()\r\n                                    return(\r\n                                        <div className=\"d-flex flex-row justify-content-end mx-3 my-3\">\r\n                                            <div className=\"d-flex flex-column justify-content-center mr-2\">\r\n                                                <CBadge color={arrWarna[parseInt(x.kd_status)-1]}>\r\n                                                    {\r\n                                                        x.kd_status == 1 ?\r\n                                                        \"Initial Info\"\r\n                                                        :\r\n                                                        x.kd_status == 2 ?\r\n                                                        \"Cetakan Form A & B\"\r\n                                                        :\r\n                                                        x.kd_status == 3 ?\r\n                                                        \"Data Elektronik Form A & B\"\r\n                                                        :\r\n                                                        x.kd_status == 4 ?\r\n                                                        \"Input Tanggal Release\"\r\n                                                        :\r\n                                                        \"\"\r\n                                                    }                                                    \r\n                                                </CBadge>\r\n                                            </div>\r\n                                            <div style={{minWidth:\"15vw\"}} className=\"d-flex flex-column\">\r\n                                                {hari.toString().length == 1 ? \"0\"+hari : hari}-{bulan.toString().length == 1 ? \"0\"+bulan : bulan}-{tahun}{' '}{jam}:{menit}:{detik}\r\n                                            </div> \r\n                                            <div style={{minWidth:\"15vw\"}} className=\"d-flex flex-column\">\r\n                                                {arrView[parseInt(x.createdby)-1]}\r\n                                            </div>                                                                                \r\n                                        </div>                                        \r\n                                    )\r\n                                })}\r\n                            </CCollapse>                            \r\n                        )\r\n                    }\r\n                }}\r\n                />\r\n            </CCardBody>\r\n        </CCard>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Viavalen"],"sourceRoot":""}