(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[8],{638:function(e,t,n){"use strict";var c=n(672),a=Object(c.a)("https://ctvjpxocqeajngziaxji.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyb2xlIjoiYW5vbiIsImlhdCI6MTYyMzE4Mjc3OSwiZXhwIjoxOTM4NzU4Nzc5fQ.pCQD8_U0cgWJtgLbOh90kUGpxpOmpwzDmsfwKzj7PwE");t.a=a},666:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var c,a=n(1),r=["title","titleId"];function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e}).apply(this,arguments)}function i(e,t){if(null==e)return{};var n,c,a=function(e,t){if(null==e)return{};var n,c,a={},r=Object.keys(e);for(c=0;c<r.length;c++)n=r[c],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(c=0;c<r.length;c++)n=r[c],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function d(e,t){var n=e.title,d=e.titleId,l=i(e,r);return a.createElement("svg",s({id:"Capa_1",enableBackground:"new 0 0 511.996 511.996",height:80,viewBox:"0 0 511.996 511.996",width:80,xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":d},l),n?a.createElement("title",{id:d},n):null,c||(c=a.createElement("g",null,a.createElement("path",{d:"m473.104 112.473v358.908c0 22.43-18.186 40.616-40.616 40.616h-352.98c-22.43 0-40.616-18.186-40.616-40.616v-430.762c0-22.43 18.186-40.616 40.616-40.616h281.127z",fill:"#f8f6f9"}),a.createElement("path",{d:"m473.104 112.473h-71.854c-22.43 0-40.616-18.186-40.616-40.616v-71.853",fill:"#dddaec"}),a.createElement("g",null,a.createElement("path",{d:"m373.134 175.972c5.167-10.413.912-23.033-9.501-28.2l-32.583-16.139c-10.413-5.167-23.033-.912-28.2 9.501l-64.477 130.09-31.399-52.513c-5.966-9.981-18.875-13.228-28.856-7.262l-31.207 18.651c-9.965 5.966-13.228 18.875-7.262 28.856l61.87 103.49c3.951 6.606 11.197 10.541 18.875 10.237l43.859-1.728c7.694-.304 14.604-4.783 18.011-11.677z",fill:"#95d6a4"}),a.createElement("g",{fill:"#78c2a4"},a.createElement("path",{d:"m251.489 293.16 75.349-152.026c1.68-3.387 4.157-6.108 7.082-8.08l-2.87-1.422c-10.413-5.167-23.033-.912-28.2 9.501l-64.477 130.09z"}),a.createElement("path",{d:"m225.507 362.446-61.87-103.49c-5.966-9.981-2.703-22.889 7.262-28.856l29.954-17.902c-6.571-4.529-15.432-5.114-22.735-.749l-31.207 18.651c-9.965 5.966-13.228 18.875-7.262 28.856l61.87 103.49c3.951 6.606 11.197 10.541 18.874 10.237l17.774-.7c-5.219-1.391-9.803-4.76-12.66-9.537z"}))),a.createElement("path",{d:"m103.484 511.993h-23.972c-22.427 0-40.62-18.182-40.62-40.619v-430.755c0-22.437 18.193-40.619 40.62-40.619h23.972c-22.437 0-40.62 18.182-40.62 40.619v430.754c0 22.437 18.183 40.62 40.62 40.62z",fill:"#dddaec"}))))}var l=a.forwardRef(d);n.p},686:function(e,t){},740:function(e,t){},741:function(e,t){},742:function(e,t){},743:function(e,t){},744:function(e,t){},781:function(e,t,n){"use strict";n.r(t);var c,a=n(634),r=n.n(a),s=n(639),i=n(630),d=n(1),l=n(628),j=n(666),o=["title","titleId"];function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e}).apply(this,arguments)}function b(e,t){if(null==e)return{};var n,c,a=function(e,t){if(null==e)return{};var n,c,a={},r=Object.keys(e);for(c=0;c<r.length;c++)n=r[c],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(c=0;c<r.length;c++)n=r[c],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function h(e,t){var n=e.title,a=e.titleId,r=b(e,o);return d.createElement("svg",u({id:"Capa_1",enableBackground:"new 0 0 512 512",height:80,viewBox:"0 0 512 512",width:80,xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},r),n?d.createElement("title",{id:a},n):null,c||(c=d.createElement("g",null,d.createElement("g",null,d.createElement("path",{d:"m451.891 125.53v341.137c0 25.035-20.298 45.333-45.333 45.333h-355.769c-25.035 0-45.333-20.298-45.333-45.333v-421.334c.001-25.035 20.298-45.333 45.333-45.333h275.571z",fill:"#f8f6f9"}),d.createElement("path",{d:"m451.891 125.53h-80.198c-25.035 0-45.332-20.298-45.332-45.333v-80.197",fill:"#dddaec"})),d.createElement("g",null,d.createElement("path",{d:"m493.06 311.109 11.739-23.694c4.099-8.262.723-18.275-7.539-22.374l-25.852-12.805c-8.262-4.099-18.275-.723-22.374 7.539l-51.158 103.217-24.913-41.665c-4.734-7.919-14.976-10.496-22.895-5.762l-24.76 14.798c-7.907 4.734-10.496 14.976-5.762 22.895l49.089 82.112c3.135 5.241 8.884 8.363 14.976 8.122l34.799-1.371c6.104-.241 11.587-3.795 14.29-9.265l43.442-87.632z",fill:"#95d6a4"}),d.createElement("g",{fill:"#78c2a4"},d.createElement("path",{d:"m410.887 384.75 61.943-124.977c.962-1.939 2.259-3.598 3.774-4.965l-5.195-2.573c-8.262-4.099-18.275-.723-22.374 7.539l-51.158 103.217z"}),d.createElement("path",{d:"m392.432 435.368-49.089-82.112c-4.734-7.919-2.145-18.161 5.762-22.895l21.022-12.564c-5.295-5.039-13.473-6.17-20.057-2.234l-24.76 14.798c-7.906 4.734-10.496 14.976-5.762 22.895l49.089 82.112c3.135 5.241 8.884 8.363 14.976 8.122l18.261-.719c-3.892-1.194-7.286-3.797-9.442-7.403z"}))),d.createElement("g",{fill:"#407093"},d.createElement("path",{d:"m388.121 233.593h-318.893c-4.267 0-7.726-3.459-7.726-7.726s3.459-7.726 7.726-7.726h318.893c4.267 0 7.726 3.459 7.726 7.726s-3.459 7.726-7.726 7.726z"}),d.createElement("path",{d:"m388.122 179.202h-264.477c-4.267 0-7.726-3.459-7.726-7.726s3.459-7.726 7.726-7.726h264.477c4.267 0 7.726 3.459 7.726 7.726s-3.458 7.726-7.726 7.726z"}),d.createElement("path",{d:"m275.64 65.92h-93.933c-4.267 0-7.726-3.459-7.726-7.726s3.459-7.726 7.726-7.726h93.933c4.267 0 7.726 3.459 7.726 7.726s-3.459 7.726-7.726 7.726z"}),d.createElement("path",{d:"m388.122 287.611h-318.896c-4.267 0-7.726-3.459-7.726-7.726s3.459-7.726 7.726-7.726h318.897c4.267 0 7.726 3.459 7.726 7.726s-3.459 7.726-7.727 7.726z"}),d.createElement("path",{d:"m202.738 341.625h-133.512c-4.267 0-7.726-3.459-7.726-7.726s3.459-7.726 7.726-7.726h133.512c4.267 0 7.726 3.459 7.726 7.726.001 4.266-3.459 7.726-7.726 7.726z"}),d.createElement("path",{d:"m298.96 395.634h-229.734c-4.267 0-7.726-3.459-7.726-7.726s3.459-7.726 7.726-7.726h229.734c4.267 0 7.726 3.459 7.726 7.726 0 4.266-3.459 7.726-7.726 7.726z"}),d.createElement("path",{d:"m118.832 464.178h-49.606c-4.267 0-7.726-3.459-7.726-7.726s3.459-7.726 7.726-7.726h49.606c4.267 0 7.726 3.459 7.726 7.726.001 4.267-3.459 7.726-7.726 7.726z"})))))}var f,O=d.forwardRef(h),m=(n.p,["title","titleId"]);function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e}).apply(this,arguments)}function p(e,t){if(null==e)return{};var n,c,a=function(e,t){if(null==e)return{};var n,c,a={},r=Object.keys(e);for(c=0;c<r.length;c++)n=r[c],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(c=0;c<r.length;c++)n=r[c],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function v(e,t){var n=e.title,c=e.titleId,a=p(e,m);return d.createElement("svg",x({id:"Capa_1",enableBackground:"new 0 0 511.99 511.99",height:80,viewBox:"0 0 511.99 511.99",width:80,xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":c},a),n?d.createElement("title",{id:c},n):null,f||(f=d.createElement("g",null,d.createElement("path",{d:"m400.164 41.206h-288.338c-40.485 0-73.305 32.82-73.305 73.305v324.173c0 40.485 32.82 73.305 73.305 73.305h288.338c40.485 0 73.305-32.82 73.305-73.305v-324.172c0-40.486-32.82-73.306-73.305-73.306z",fill:"#d8aa8b"}),d.createElement("path",{d:"m144.937 511.99h-33.11c-40.485 0-73.306-32.821-73.306-73.306v-324.171c0-40.485 32.821-73.306 73.306-73.306h33.11c-40.485 0-73.306 32.821-73.306 73.306v324.171c0 40.486 32.821 73.306 73.306 73.306z",fill:"#ce9875"}),d.createElement("path",{d:"m359.082 108.08h-237.106c-22.428 0-40.61 18.182-40.61 40.61v279.93c0 22.428 18.182 40.61 40.61 40.61h237.105c22.428 0 40.61-18.182 40.61-40.61v-279.93c.001-22.428-18.181-40.61-40.609-40.61z",fill:"#ce9875"}),d.createElement("path",{d:"m374.082 108.08h-237.106c-22.428 0-40.61 18.182-40.61 40.61v279.93c0 22.428 18.182 40.61 40.61 40.61h237.105c22.428 0 40.61-18.182 40.61-40.61v-279.93c.001-22.428-18.181-40.61-40.609-40.61z",fill:"#f8f6f9"}),d.createElement("path",{d:"m294.38 141.762h-76.769c-16.336 0-29.626-13.29-29.626-29.627v-52.413c0-4.267 3.459-7.726 7.726-7.726 4.268 0 7.726 3.459 7.726 7.726v52.414c0 7.816 6.358 14.174 14.174 14.174h76.769c7.816 0 14.174-6.359 14.174-14.174v-52.414c0-4.267 3.459-7.726 7.726-7.726s7.726 3.459 7.726 7.726v52.414c0 16.336-13.291 29.626-29.626 29.626z",fill:"#365e7d"}),d.createElement("g",null,d.createElement("path",{d:"m234.758 180.214c2.24-4.515.395-9.987-4.119-12.227l-14.127-6.998c-4.515-2.24-9.987-.395-12.227 4.119l-27.956 56.404-13.614-22.768c-2.587-4.328-8.183-5.735-12.511-3.149l-13.531 8.086c-4.321 2.587-5.735 8.183-3.149 12.511l26.825 44.87c1.713 2.864 4.855 4.57 8.183 4.439l19.016-.749c3.336-.132 6.332-2.074 7.809-5.063z",fill:"#95d6a4"})),d.createElement("g",null,d.createElement("path",{d:"m207.801 359.28 20.362-20.362c3.436-3.436 3.436-9.006 0-12.442l-11.388-11.388c-3.436-3.436-9.006-3.436-12.442 0l-20.362 20.362-20.362-20.362c-3.436-3.436-9.006-3.436-12.442 0l-11.388 11.388c-3.436 3.436-3.436 9.006 0 12.442l20.362 20.362-20.362 20.362c-3.436 3.436-3.436 9.006 0 12.442l11.388 11.388c3.436 3.436 9.006 3.436 12.442 0l20.362-20.362 20.362 20.362c3.436 3.436 9.006 3.436 12.442 0l11.388-11.388c3.436-3.436 3.436-9.006 0-12.442z",fill:"#dd636e"})),d.createElement("g",{fill:"#365e7d"},d.createElement("path",{d:"m376.099 220.499h-114.199c-4.268 0-7.726-3.459-7.726-7.726s3.459-7.726 7.726-7.726h114.198c4.268 0 7.726 3.459 7.726 7.726.001 4.267-3.458 7.726-7.725 7.726z"}),d.createElement("path",{d:"m342.77 251.733h-80.87c-4.268 0-7.726-3.459-7.726-7.726s3.459-7.726 7.726-7.726h80.87c4.268 0 7.726 3.459 7.726 7.726s-3.458 7.726-7.726 7.726z"})),d.createElement("g",{fill:"#365e7d"},d.createElement("path",{d:"m376.099 351.389h-114.199c-4.268 0-7.726-3.459-7.726-7.726s3.459-7.726 7.726-7.726h114.198c4.268 0 7.726 3.459 7.726 7.726.001 4.267-3.458 7.726-7.725 7.726z"}),d.createElement("path",{d:"m342.77 382.623h-80.87c-4.268 0-7.726-3.459-7.726-7.726s3.459-7.726 7.726-7.726h80.87c4.268 0 7.726 3.459 7.726 7.726s-3.458 7.726-7.726 7.726z"})),d.createElement("path",{d:"m323.079 82.042h-134.167c-22.655 0-41.021-18.366-41.021-41.021 0-22.655 18.365-41.021 41.021-41.021h134.167c22.655 0 41.021 18.366 41.021 41.021 0 22.655-18.366 41.021-41.021 41.021z",fill:"#bed8fb"}),d.createElement("path",{d:"m243.417 82.042h-54.506c-22.653 0-41.021-18.368-41.021-41.021 0-11.332 4.594-21.582 12.012-29.01 7.428-7.417 17.678-12.011 29.009-12.011h54.506c-11.321 0-21.582 4.594-29.01 12.012-7.417 7.428-12.012 17.678-12.012 29.01.001 22.652 18.369 41.02 41.022 41.02z",fill:"#9dc6fb"}))))}var k=d.forwardRef(v),g=(n.p,n(164)),y=n(43),w=n(638),_=n(162),N=n(19),C=n(725),E=n(645),S=n.n(E),K=n(20),P=function(e){var t=Object(_.c)((function(e){return e.trigger})),n=Object(_.b)(),c=Object(_.c)((function(e){return e.simView})),a=Object(N.g)(),i=function(){var t=Object(s.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(function(){var t=Object(s.a)(r.a.mark((function t(){var i,d;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.a.from("td_detensi").update({kd_status:2}).eq("id_detensi",e.datadetensi.id_detensi);case 2:i=t.sent,d=i.data,i.error||function(){var t=Object(s.a)(r.a.mark((function t(){var i,l;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.a.from("th_detensi").insert([{id_detensi:e.datadetensi.id_detensi,kd_status:2,createdby:c}]);case 2:i=t.sent,i.data,i.error||(l=Object(y.a)(Object(y.a)(Object(g.a)({},"id_detensi",d[0].id_detensi),d[0].data),{},Object(g.a)({},"kd_status",d[0].kd_status)),n({type:"set",datadetensi:l}),S.a.fire({icon:"success",title:"Sukses",text:"Apakah Anda Ingin Mengisi data elektronik Form A & Form B ?",showConfirmButton:!0,showDenyButton:!0}).then((function(t){t.isConfirmed?function(){var e=Object(s.a)(r.a.mark((function e(t){var n,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.from("td_detensi").update({fl_lock:1,locked_by:c}).eq("id_detensi",t);case 2:if(n=e.sent,n.data,!(s=n.error)){e.next=9;break}return e.abrupt("return",s);case 9:a.push("/hdpsc/edit");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(e.datadetensi.id_detensi):function(){var e=Object(s.a)(r.a.mark((function e(t){var n,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.from("td_detensi").update({fl_lock:0,locked_by:c}).eq("id_detensi",t);case 2:if(n=e.sent,n.data,!(s=n.error)){e.next=9;break}return e.abrupt("return",s);case 9:a.push("/hdpsc");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(e.datadetensi.id_detensi)})));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()();case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()();case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),d=function(){var c=Object(s.a)(r.a.mark((function c(a,s){var i,d,l,j,o;return r.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return i=a.target.files[0],d=s,c.next=4,w.a.storage.from("dokumen").upload(Object(C.a)(32),i);case 4:if(l=c.sent,j=l.data,!l.error){c.next=11;break}alert("Error"),c.next=17;break;case 11:return o="https://ctvjpxocqeajngziaxji.supabase.co/storage/v1/object/public/"+j.Key,console.log(o),c.next=15,w.a.from("td_dokumen").insert([{id_detensi:e.datadetensi.id_detensi,kd_dokumen:d,url_dokumen:o}]);case 15:c.sent.error||(S.a.fire({icon:"success",title:"Sukses"}),n({type:"set",trigger:t+1}));case 17:case"end":return c.stop()}}),c)})));return function(e,t){return c.apply(this,arguments)}}();return Object(K.jsxs)(l.tb,{children:[Object(K.jsxs)(l.u,{md:"6",children:[Object(K.jsx)(l.tb,{children:Object(K.jsx)(l.u,{md:"12",children:Object(K.jsxs)(l.K,{children:[Object(K.jsx)(l.Z,{children:Object(K.jsx)("b",{children:"Nama Kapal"})}),Object(K.jsx)(l.P,{disabled:!0,value:e.datadetensi.namakapal,name:"namakapal"})]})})}),Object(K.jsx)(l.tb,{children:Object(K.jsx)(l.u,{md:"12",children:Object(K.jsxs)(l.K,{children:[Object(K.jsx)(l.Z,{children:Object(K.jsx)("b",{children:"Nomor IMO Kapal"})}),Object(K.jsx)(l.P,{disabled:!0,value:e.datadetensi.imokapal,name:"imokapal"})]})})}),Object(K.jsx)(l.tb,{children:Object(K.jsx)(l.u,{md:"12",children:Object(K.jsxs)(l.K,{children:[Object(K.jsx)(l.Z,{children:Object(K.jsx)("b",{children:"Tanggal Detensi"})}),Object(K.jsx)(l.P,{disabled:!0,value:e.datadetensi.tgldetensi,name:"tgldetensi",type:"date"})]})})})]}),Object(K.jsx)(l.u,{md:"6",children:Object(K.jsxs)("div",{style:{height:"100%"},className:"d-flex flex-column",children:[Object(K.jsx)("div",{style:{width:"100%"},children:Object(K.jsx)(l.y,{addTableClasses:"josss mt-4",items:[{no:1,namadok:"Form A",kddok:"forma"},{no:2,namadok:"Form B",kddok:"formb"}],fields:[{key:"no",label:"Nomor"},{key:"namadok",label:"Nama Dokumen"},{key:"action",label:"Action"}],scopedSlots:{action:function(t,n){var c=t.kddok;if(0!==e.datadokumen.filter((function(e){return e.kd_dokumen==t.kddok})).length){var a=e.datadokumen.filter((function(e){return e.kd_dokumen==t.kddok}))[0].url_dokumen;return Object(K.jsx)("td",{children:Object(K.jsx)("a",{target:"_blank",href:a,role:"button",className:"btn btn-info btn-sm",children:"Download"})})}return Object(K.jsxs)("td",{children:[Object(K.jsx)("input",{onInput:function(e){return d(e,c)},type:"file",name:"upload",id:"file",class:"inputfile"}),Object(K.jsx)("label",{role:"button",className:"btn btn-info btn-sm ",for:"file",children:"Upload"})]})}}})}),1==e.datadetensi.kd_status?Object(K.jsx)(K.Fragment,{children:Object(K.jsxs)("div",{className:"d-flex mt-auto mb-2 justify-content-end",children:[Object(K.jsx)("div",{className:"mr-2",children:Object(K.jsx)(l.f,{onClick:function(){return i()},color:"success",children:"Simpan"})}),Object(K.jsx)("div",{className:"mr-2",children:Object(K.jsx)(l.f,{onClick:function(){return a.push("/hdpsc")},style:{color:"white"},color:"warning",children:"Kembali"})})]})}):Object(K.jsx)(K.Fragment,{})]})})]})},Z=n(697),I=function(e){var t=Object(d.useState)([]),n=Object(i.a)(t,2),c=(n[0],n[1]),a=Object(_.b)(),j=Object(_.c)((function(e){return e.forma})),o=function(e){var t=Object(y.a)({},j);t[e.target.name]=e.target.value,a({type:"set",forma:t}),console.log(j)};return Object(d.useEffect)(Object(s.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(function(){var e=Object(s.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.from("tr_negara").select("*");case 2:t=e.sent,n=t.data,t.error,c(n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()();case 2:case"end":return e.stop()}}),e)}))),[]),Object(K.jsxs)("div",{className:"mt-3",children:[Object(K.jsx)(l.tb,{children:Object(K.jsx)(l.u,{md:"6",children:Object(K.jsxs)(l.K,{children:[Object(K.jsx)(l.Z,{children:"Otoritas PSC"}),Object(K.jsx)(l.P,{name:"otoritaspsc",onChange:function(e){return o(e)},value:j.otoritaspsc})]})})}),Object(K.jsxs)(l.tb,{children:[Object(K.jsx)(l.u,{md:"6",children:Object(K.jsxs)(l.K,{children:[Object(K.jsx)(l.Z,{children:"Nama Kapal"}),Object(K.jsx)(l.P,{disabled:!0,value:j.namakapal})]})}),Object(K.jsx)(l.u,{md:"6",children:Object(K.jsxs)(l.K,{children:[Object(K.jsx)(l.Z,{children:"Tipe Kapal"}),Object(K.jsx)(l.P,{onChange:function(e){return o(e)},name:"tipekapal",value:j.tipekapal})]})})]}),Object(K.jsxs)(l.tb,{children:[Object(K.jsx)(l.u,{md:"4",children:Object(K.jsxs)(l.K,{children:[Object(K.jsx)(l.Z,{children:"Call Sign"}),Object(K.jsx)(l.P,{onChange:function(e){return o(e)},name:"callsign",value:j.callsign})]})}),Object(K.jsx)(l.u,{md:"4",children:Object(K.jsxs)(l.K,{children:[Object(K.jsx)(l.Z,{children:"Nomor MMSI"}),Object(K.jsx)(l.P,{onChange:function(e){return o(e)},name:"nommsi",value:j.nommsi})]})}),Object(K.jsx)(l.u,{md:"4",children:Object(K.jsxs)(l.K,{children:[Object(K.jsx)(l.Z,{children:"Nomor IMO"}),Object(K.jsx)(l.P,{disabled:!0,value:j.imokapal})]})})]}),Object(K.jsxs)(l.tb,{children:[Object(K.jsx)(l.u,{md:"4",children:Object(K.jsxs)(l.K,{children:[Object(K.jsx)(l.Z,{children:"Gross Tonnage"}),Object(K.jsx)(l.P,{onChange:function(e){return o(e)},name:"grosstonage",value:j.grosstonage})]})}),Object(K.jsx)(l.u,{md:"4",children:Object(K.jsxs)(l.K,{children:[Object(K.jsx)(l.Z,{children:"Dead Weight"}),Object(K.jsx)(l.P,{onChange:function(e){return o(e)},name:"deadweight",value:j.deadweight})]})}),Object(K.jsx)(l.u,{md:"4",children:Object(K.jsxs)(l.K,{children:[Object(K.jsx)(l.Z,{children:"Tanggal Keel Laid"}),Object(K.jsx)(l.P,{onChange:function(e){return o(e)},name:"tglkeellaid",value:j.tglkeellaid,type:"date"})]})})]})]})},z=function(){var e=Object(_.b)(),t=Object(_.c)((function(e){return e.forma})),n=Object(d.useState)(!1),c=Object(i.a)(n,2),a=(c[0],c[1],function(n){var c=Object(y.a)({},t),a=n.target.name;"deficiencies"==a||"shipdetained"==a||"supportdocument"==a?(c[n.target.name]=n.target.checked,e({type:"set",forma:c}),console.log(t)):(c[n.target.name]=n.target.value,e({type:"set",forma:c}),console.log(t))});return Object(K.jsxs)("div",{className:"mt-3",children:[Object(K.jsxs)(l.tb,{children:[Object(K.jsx)(l.u,{md:"6",children:Object(K.jsxs)(l.K,{children:[Object(K.jsx)(l.Z,{children:"Tanggal Inspeksi"}),Object(K.jsx)(l.P,{onChange:function(e){return a(e)},value:t.tglinspeksi,name:"tglinspeksi",type:"date"})]})}),Object(K.jsx)(l.u,{md:"6",children:Object(K.jsxs)(l.K,{children:[Object(K.jsx)(l.Z,{children:"Tempat Inspeksi"}),Object(K.jsx)(l.P,{onChange:function(e){return a(e)},value:t.tempatinspeksi,name:"tempatinspeksi"})]})})]}),Object(K.jsx)(l.tb,{}),Object(K.jsxs)(l.tb,{children:[Object(K.jsx)(l.u,{md:"6",children:Object(K.jsxs)(l.K,{children:[Object(K.jsx)(l.Z,{children:"Classification Society"}),Object(K.jsx)(l.P,{onChange:function(e){return a(e)},value:t.classificationsociety,name:"classificationsociety"})]})}),Object(K.jsx)(l.u,{md:"6",children:Object(K.jsxs)(l.K,{children:[Object(K.jsx)(l.Z,{children:"Date of Release from Detention"}),Object(K.jsx)(l.P,{onChange:function(e){return a(e)},value:t.dateofrelease,name:"dateofrelease",type:"date"})]})})]}),Object(K.jsxs)(l.tb,{children:[Object(K.jsx)(l.u,{md:"4",children:Object(K.jsx)(l.Z,{children:"Deficiencies"})}),Object(K.jsx)(l.u,{md:"3",children:Object(K.jsxs)(l.K,{variant:"custom-checkbox",inline:!0,children:[Object(K.jsx)(l.Q,{onChange:function(e){return a(e)},checked:t.deficiencies,custom:!0,id:"deficiencies",name:"deficiencies"}),Object(K.jsx)(l.Z,{variant:"custom-checkbox",htmlFor:"deficiencies",children:"Yes"})]})})]}),Object(K.jsxs)(l.tb,{children:[Object(K.jsx)(l.u,{md:"4",children:Object(K.jsx)(l.Z,{children:"Ship Detained"})}),Object(K.jsx)(l.u,{md:"3",children:Object(K.jsxs)(l.K,{variant:"custom-checkbox",inline:!0,children:[Object(K.jsx)(l.Q,{onChange:function(e){return a(e)},checked:t.shipdetained,custom:!0,id:"shipdetained",name:"shipdetained"}),Object(K.jsx)(l.Z,{variant:"custom-checkbox",htmlFor:"shipdetained",children:"Yes"})]})})]}),Object(K.jsxs)(l.tb,{children:[Object(K.jsx)(l.u,{md:"4",children:Object(K.jsx)(l.Z,{children:"Supporting Documentation"})}),Object(K.jsx)(l.u,{md:"3",children:Object(K.jsxs)(l.K,{variant:"custom-checkbox",inline:!0,children:[Object(K.jsx)(l.Q,{onChange:function(e){return a(e)},checked:t.supportdocument,custom:!0,id:"supportdocument",name:"supportdocument"}),Object(K.jsx)(l.Z,{variant:"custom-checkbox",htmlFor:"supportdocument",children:"Yes"})]})})]})]})},T=function(){var e=Object(_.b)(),t=Object(_.c)((function(e){return e.forma})),n=function(n){var c=Object(y.a)({},t);c[n.target.name]=n.target.value,e({type:"set",forma:c})};return Object(K.jsxs)("div",{className:"mt-3",children:[Object(K.jsxs)(l.tb,{children:[Object(K.jsx)(l.u,{md:"6",children:Object(K.jsxs)(l.K,{children:[Object(K.jsx)(l.Z,{children:"IMO Company Number"}),Object(K.jsx)(l.P,{name:"imocompany",value:t.imocompany,onChange:function(e){return n(e)}})]})}),Object(K.jsx)(l.u,{md:"6",children:Object(K.jsxs)(l.K,{children:[Object(K.jsx)(l.Z,{children:"Particulars of Company"}),Object(K.jsx)(l.P,{name:"particulars",value:t.particulars,onChange:function(e){return n(e)}})]})})]}),Object(K.jsxs)(l.tb,{children:[Object(K.jsx)(l.u,{md:"6",children:Object(K.jsxs)(l.K,{children:[Object(K.jsx)(l.Z,{children:"Owner"}),Object(K.jsx)(l.P,{name:"owner",value:t.owner,onChange:function(e){return n(e)}})]})}),Object(K.jsx)(l.u,{md:"6",children:Object(K.jsxs)(l.K,{children:[Object(K.jsx)(l.Z,{children:"Operator"}),Object(K.jsx)(l.P,{name:"operator",value:t.operator,onChange:function(e){return n(e)}})]})})]}),Object(K.jsx)(l.tb,{children:Object(K.jsx)(l.u,{md:"12",children:Object(K.jsxs)(l.K,{children:[Object(K.jsx)(l.Z,{children:"Name of Master"}),Object(K.jsx)(l.P,{name:"nameofmaster",value:t.nameofmaster,onChange:function(e){return n(e)}})]})})})]})},D=n(786),F=function(e){var t=Object(d.useState)({}),n=Object(i.a)(t,2),c=n[0],a=n[1],j=Object(d.useState)(!0),o=Object(i.a)(j,2),u=o[0],b=o[1],h=Object(d.useState)([]),f=Object(i.a)(h,2),O=f[0],m=f[1],x=Object(d.useState)(!1),p=Object(i.a)(x,2),v=p[0],k=p[1],N=(Object(_.c)((function(e){return e.forma})),function(e){console.log("BERUBAH"),a(Object(y.a)(Object(y.a)({},c),{},Object(g.a)({},e.target.name,e.target.value)))}),C=function(){var t=Object(s.a)(r.a.mark((function t(){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.a.from("td_sertifikat").insert([{id_detensi:e.datadetensi.id_detensi,data:c}]);case 2:(n=t.sent).error?alert(n.error):n.error||(b(!u),k(!1),a({title:"",issuingauthority:"",dateofissuance:"",dateofexpiry:""}));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(d.useEffect)(Object(s.a)(r.a.mark((function t(){var n,c,a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.a.from("td_sertifikat").select("data").eq("id_detensi",e.datadetensi.id_detensi);case 2:n=t.sent,c=n.data,n.error,a=c.map((function(e){return Object(y.a)(Object(y.a)({},e.data),{},Object(g.a)({},"titlesertifikat",e.data.title.label))})),m(a);case 7:case"end":return t.stop()}}),t)}))),[u]);var E=function(){var e=Object(s.a)(r.a.mark((function e(t){var n,c,a,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.next=3,w.a.from("tr_certificate").select("*").plfts("ur_certificate",n);case 3:return c=e.sent,a=c.data,c.error,s=a.map((function(e){var t;return t={},Object(g.a)(t,"value",e.kd_certificate),Object(g.a)(t,"label",e.ur_certificate),t})),e.abrupt("return",s);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(K.jsxs)(K.Fragment,{children:[Object(K.jsxs)(l.db,{show:v,onClose:function(){return k(!1)},children:[Object(K.jsx)(l.gb,{children:Object(K.jsx)("h5",{children:"Tambah Sertifikat"})}),Object(K.jsxs)(l.eb,{children:[Object(K.jsx)(l.tb,{children:Object(K.jsx)(l.u,{md:"12",children:Object(K.jsxs)(l.K,{children:[Object(K.jsx)(l.Z,{children:"Title"}),Object(K.jsx)(D.a,{cacheOptions:!0,defaultOptions:!0,value:c.title,onChange:function(e,t){return function(e,t){a(Object(y.a)(Object(y.a)({},c),{},Object(g.a)({},t.name,e)))}(e,t)},name:"title",loadOptions:E})]})})}),Object(K.jsx)(l.tb,{children:Object(K.jsx)(l.u,{md:"12",children:Object(K.jsxs)(l.K,{children:[Object(K.jsx)(l.Z,{children:"Issuing Authority"}),Object(K.jsx)(l.P,{name:"issuingauthority",value:c.issuingauthority,onChange:function(e){return N(e)}})]})})}),Object(K.jsx)(l.tb,{children:Object(K.jsx)(l.u,{md:"12",children:Object(K.jsxs)(l.K,{children:[Object(K.jsx)(l.Z,{children:"Date of Issuance"}),Object(K.jsx)(l.P,{name:"dateofissuance",value:c.dateofissuance,onChange:function(e){return N(e)},type:"date"})]})})}),Object(K.jsx)(l.tb,{children:Object(K.jsx)(l.u,{md:"12",children:Object(K.jsxs)(l.K,{children:[Object(K.jsx)(l.Z,{children:"Date of Expiry"}),Object(K.jsx)(l.P,{name:"dateofexpiry",value:c.dateofexpiry,onChange:function(e){return N(e)},type:"date"})]})})})]}),Object(K.jsx)(l.fb,{children:Object(K.jsx)("div",{className:"d-flex justify-content-end",children:Object(K.jsx)(l.f,{onClick:function(){return C()},color:"success",children:"Simpan"})})})]}),Object(K.jsxs)("div",{className:"mt-3",children:[Object(K.jsx)("div",{className:"d-flex justify-content-end mb-2",children:Object(K.jsx)(l.f,{onClick:function(){k(!0),console.log(c)},className:"btn btn-sm btn-info",children:"Tambah"})}),Object(K.jsx)(l.y,{addTableClasses:"josss",items:O,fields:[{key:"no",label:"No"},{key:"titlesertifikat",label:"Title"},{key:"issuingauthority",label:"Issuing Authority"},{key:"dateofissuance",label:"Date of Issuance"},{key:"dateofexpiry",label:"Date of Expiry"},{key:"action",label:"Action"}],scopedSlots:{no:function(e,t){return Object(K.jsx)("td",{children:t+1})},action:function(e,t){return Object(K.jsx)("td",{children:Object(K.jsxs)("div",{className:"d-flex flex-row align-items-center",children:[Object(K.jsx)("div",{className:"mr-2",children:Object(K.jsx)(l.f,{className:"btn btn-sm btn-success",children:"Edit"})}),Object(K.jsx)("div",{className:"mr-2",children:Object(K.jsx)(l.f,{className:"btn btn-sm btn-danger",children:"Hapus"})})]})})}}})]})]})},A=function(e){var t=Object(d.useState)({}),n=Object(i.a)(t,2),c=n[0],a=n[1],j=Object(d.useState)([]),o=Object(i.a)(j,2),u=o[0],b=o[1],h=Object(d.useState)(!1),f=Object(i.a)(h,2),O=f[0],m=f[1],x=Object(d.useState)(!1),p=Object(i.a)(x,2),v=p[0],k=p[1],_=function(e){a(Object(y.a)(Object(y.a)({},c),{},Object(g.a)({},e.target.name,e.target.value)))},N=function(){var t=Object(s.a)(r.a.mark((function t(){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.a.from("td_survey").insert([{id_detensi:e.datadetensi.id_detensi,data:c}]);case 2:(n=t.sent).error?alert(n.error):(k(!v),m(!1));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(d.useEffect)(Object(s.a)(r.a.mark((function t(){var n,c,a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.a.from("td_survey").select("data").eq("id_detensi",e.datadetensi.id_detensi);case 2:n=t.sent,c=n.data,n.error,a=c.map((function(e){return Object(y.a)({},e.data)})),b(a),console.log(a);case 8:case"end":return t.stop()}}),t)}))),[v]),Object(K.jsxs)(K.Fragment,{children:[Object(K.jsxs)(l.db,{show:O,onClose:function(){return m(!1)},children:[Object(K.jsx)(l.gb,{children:Object(K.jsx)("h5",{children:"Tambah Data"})}),Object(K.jsxs)(l.eb,{children:[Object(K.jsx)(l.tb,{children:Object(K.jsx)(l.u,{md:"12",children:Object(K.jsxs)(l.K,{children:[Object(K.jsx)(l.Z,{children:Object(K.jsx)("i",{children:"Date"})}),Object(K.jsx)(l.P,{name:"dateannual",value:c.dateannual,onChange:function(e){return _(e)},type:"date"})]})})}),Object(K.jsx)(l.tb,{children:Object(K.jsx)(l.u,{md:"12",children:Object(K.jsxs)(l.K,{children:[Object(K.jsx)(l.Z,{children:Object(K.jsx)("i",{children:"Surveying Authority"})}),Object(K.jsx)(l.P,{name:"surveyingauthority",value:c.surveyingauthority,onChange:function(e){return _(e)}})]})})}),Object(K.jsx)(l.tb,{children:Object(K.jsx)(l.u,{md:"12",children:Object(K.jsxs)(l.K,{children:[Object(K.jsx)(l.Z,{children:Object(K.jsx)("i",{children:"Place"})}),Object(K.jsx)(l.P,{name:"place",value:c.place,onChange:function(e){return _(e)}})]})})})]}),Object(K.jsx)(l.fb,{children:Object(K.jsxs)("div",{className:"d-flex justify-content-end",children:[Object(K.jsx)("div",{className:"mr-3",children:Object(K.jsx)(l.f,{onClick:function(){return N()},color:"success",children:"Simpan"})}),Object(K.jsx)("div",{className:"mr-3",children:Object(K.jsx)(l.f,{color:"danger",children:"Batal"})})]})})]}),Object(K.jsxs)("div",{className:"mt-3",children:[Object(K.jsx)("div",{className:"d-flex justify-content-end mb-2",children:Object(K.jsx)(l.f,{onClick:function(){return m(!0)},className:"btn btn-sm btn-info",children:"Tambah"})}),Object(K.jsx)(l.y,{addTableClasses:"josss",items:u,fields:[{key:"no",label:"No"},{key:"dateannual",label:"Date"},{key:"surveyingauthority",label:"Surveying Authority"},{key:"place",label:"Place"},{key:"action",label:"Action"}],scopedSlots:{no:function(e,t){return Object(K.jsx)("td",{children:t+1})},action:function(e,t){return Object(K.jsx)("td",{children:Object(K.jsxs)("div",{className:"d-flex justify-content-center",children:[Object(K.jsx)("div",{className:"mr-2",children:Object(K.jsx)(l.f,{className:"btn btn-sm btn-success",children:"Simpan"})}),Object(K.jsx)("div",{className:"mr-2",children:Object(K.jsx)(l.f,{className:"btn btn-sm btn-danger",children:"Batal"})})]})})}}})]})]})},q=function(){var e=Object(_.b)(),t=Object(_.c)((function(e){return e.forma})),n=function(n){var c=Object(y.a)({},t);c[n.target.name]=n.target.value,e({type:"set",forma:c})};return Object(K.jsxs)("div",{className:"mt-3",children:[Object(K.jsx)(l.tb,{children:Object(K.jsx)(l.u,{md:"12",children:Object(K.jsxs)(l.K,{children:[Object(K.jsx)(l.Z,{children:"Issuing Office"}),Object(K.jsx)(l.P,{name:"issuingoffice",value:t.issuingoffice,onChange:function(e){return n(e)}})]})})}),Object(K.jsxs)(l.tb,{children:[Object(K.jsx)(l.u,{md:"6",children:Object(K.jsxs)(l.K,{children:[Object(K.jsx)(l.Z,{children:"Telephone"}),Object(K.jsx)(l.P,{name:"telephone",value:t.telephone,onChange:function(e){return n(e)}})]})}),Object(K.jsx)(l.u,{md:"6",children:Object(K.jsxs)(l.K,{children:[Object(K.jsx)(l.Z,{children:"Telefax"}),Object(K.jsx)(l.P,{name:"telefax",value:t.telefax,onChange:function(e){return n(e)}})]})})]}),Object(K.jsx)(l.tb,{children:Object(K.jsx)(l.u,{md:"12",children:Object(K.jsxs)(l.K,{children:[Object(K.jsx)(l.Z,{children:"Nama PSOC"}),Object(K.jsx)(l.P,{name:"namapsoc",value:t.namapsoc,onChange:function(e){return n(e)}})]})})})]})};Z.a.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(Z.a.version,"/pdf.worker.js");var B=function(e){Object(_.b)();var t=Object(_.c)((function(e){return e.forma})),n=Object(d.useState)(null),c=Object(i.a)(n,2),a=(c[0],c[1],Object(d.useState)(2)),j=Object(i.a)(a,2),o=(j[0],j[1],Object(d.useState)(20)),u=Object(i.a)(o,2),b=(u[0],u[1],Object(d.useState)()),h=Object(i.a)(b,2),f=h[0],O=h[1],m=Object(d.useState)([]),x=Object(i.a)(m,2);x[0],x[1];Object(d.useEffect)(Object(s.a)(r.a.mark((function t(){var n,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.a.from("td_dokumen").select("url_dokumen").eq("id_detensi",e.datadetensi.id_detensi).eq("kd_dokumen","forma");case 2:n=t.sent,c=n.data,n.error,O(c[0].url_dokumen);case 6:case"end":return t.stop()}}),t)}))),[]);var p=function(){var n=Object(s.a)(r.a.mark((function n(){var c,a;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,w.a.from("td_detensi").update({data:t}).eq("id_detensi",e.datadetensi.id_detensi);case 2:c=n.sent,c.data,(a=c.error)?alert(a):S.a.fire({timer:500,icon:"success",title:"Sukses"});case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(K.jsx)(K.Fragment,{children:Object(K.jsxs)(l.tb,{style:{minHeight:"90vh"},children:[Object(K.jsx)(l.u,{md:"6",children:Object(K.jsx)("div",{style:{height:"100%"},children:Object(K.jsx)("embed",{src:f,type:"application/pdf",width:"100%",height:"100%"})})}),Object(K.jsxs)(l.u,{md:"6",children:[Object(K.jsxs)(l.Hb,{activeTab:"datakapal",children:[Object(K.jsxs)(l.ib,{variant:"tabs",children:[Object(K.jsx)(l.jb,{children:Object(K.jsx)(l.kb,{"data-tab":"datakapal",children:"Kapal"})}),Object(K.jsx)(l.jb,{children:Object(K.jsx)(l.kb,{"data-tab":"datainspeksi",children:"Inspeksi"})}),Object(K.jsx)(l.jb,{children:Object(K.jsx)(l.kb,{"data-tab":"dataperusahaan",children:"Perusahaan"})}),Object(K.jsx)(l.jb,{children:Object(K.jsx)(l.kb,{"data-tab":"sertifikat",children:"Sertifikat"})}),Object(K.jsx)(l.jb,{children:Object(K.jsx)(l.kb,{"data-tab":"annualsurvey",children:"Survey"})}),Object(K.jsx)(l.jb,{children:Object(K.jsx)(l.kb,{"data-tab":"penerbit",children:"Penerbit"})})]}),Object(K.jsxs)(l.Fb,{children:[Object(K.jsx)(l.Gb,{"data-tab":"datakapal",children:Object(K.jsx)(I,{datadetensi:e.datadetensi,datadokumen:e.datadokumen})}),Object(K.jsx)(l.Gb,{"data-tab":"datainspeksi",children:Object(K.jsx)(z,{datadetensi:e.datadetensi,datadokumen:e.datadokumen})}),Object(K.jsx)(l.Gb,{"data-tab":"dataperusahaan",children:Object(K.jsx)(T,{datadetensi:e.datadetensi,datadokumen:e.datadokumen})}),Object(K.jsx)(l.Gb,{"data-tab":"sertifikat",children:Object(K.jsx)(F,{datadetensi:e.datadetensi,datadokumen:e.datadokumen})}),Object(K.jsx)(l.Gb,{"data-tab":"annualsurvey",children:Object(K.jsx)(A,{datadetensi:e.datadetensi,datadokumen:e.datadokumen})}),Object(K.jsx)(l.Gb,{"data-tab":"penerbit",children:Object(K.jsx)(q,{datadetensi:e.datadetensi,datadokumen:e.datadokumen})})]})]}),Object(K.jsx)("div",{className:"d-flex justify-content-end",children:Object(K.jsx)("div",{className:"mr-3",children:Object(K.jsx)(l.f,{onClick:function(){return p()},color:"success",children:"Simpan"})})})]})]})})},M=n(689),R=function(e){var t=Object(d.useState)(),n=Object(i.a)(t,2),c=n[0],a=n[1],j=Object(d.useState)({}),o=Object(i.a)(j,2),u=o[0],b=o[1],h=Object(d.useState)(!1),f=Object(i.a)(h,2),O=f[0],m=f[1],x=Object(d.useState)([]),p=Object(i.a)(x,2),v=p[0],k=p[1],_=Object(d.useState)(!0),N=Object(i.a)(_,2),C=N[0],E=N[1],S=Object(d.useState)(!1),P=Object(i.a)(S,2),Z=P[0],I=P[1],z=function(e){"responsiblero"==e.target.name?b(Object(y.a)(Object(y.a)({},u),{},Object(g.a)({},e.target.name,e.target.checked))):b(Object(y.a)(Object(y.a)({},u),{},Object(g.a)({},e.target.name,e.target.value)))},T=function(){var t=Object(s.a)(r.a.mark((function t(){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.a.from("td_deficiency").insert([{id_detensi:e.datadetensi.id_detensi,data:u}]);case 2:n=t.sent,console.log(u),n.error?alert(n.error):(b({codedeficiency:"",natureofdeficiency:"",conventionreference:"",actiontaken:"",responsiblero:"",certificate:"",issuingauthority:""}),E(!C),m(!1));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(d.useEffect)(Object(s.a)(r.a.mark((function t(){var n,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.a.from("td_dokumen").select("url_dokumen").eq("id_detensi",e.datadetensi.id_detensi).eq("kd_dokumen","formb");case 2:n=t.sent,c=n.data,n.error,a(c[0].url_dokumen);case 6:case"end":return t.stop()}}),t)}))),[]),Object(d.useEffect)(Object(s.a)(r.a.mark((function t(){var n,c,a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.a.from("td_deficiency").select("data").eq("id_detensi",e.datadetensi.id_detensi);case 2:n=t.sent,c=n.data,n.error,a=c.map((function(e){var t;return Object(y.a)(Object(y.a)({},e.data),{},(t={},Object(g.a)(t,"codedeficiency",e.data.codedeficiency.value),Object(g.a)(t,"actiontaken",e.data.actiontaken.value),Object(g.a)(t,"issuingauthority",e.data.issuingauthority),t))})),k(a),console.log(c);case 8:case"end":return t.stop()}}),t)}))),[C]);var D=function(e,t){var n;if("codedeficiency"==t.name)b(Object(y.a)(Object(y.a)({},u),{},(n={},Object(g.a)(n,t.name,e),Object(g.a)(n,"natureofdeficiency",e.label.substring(8,e.label.length)),n)));else if("certificate"==t.name){var c;b(Object(y.a)(Object(y.a)({},u),{},(c={},Object(g.a)(c,t.name,e),Object(g.a)(c,"issuingauthority",e.issuingauthority),c)))}else b(Object(y.a)(Object(y.a)({},u),{},Object(g.a)({},t.name,e)))},F=function(){var e=Object(s.a)(r.a.mark((function e(t){var n,c,a,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="%"+t+"%",e.next=3,w.a.from("tr_defisiensi").select("*").ilike("ur_defisiensi",n);case 3:return c=e.sent,a=c.data,c.error,s=a.map((function(e){var t;return t={},Object(g.a)(t,"value",e.kd_defisiensi),Object(g.a)(t,"label",e.ur_defisiensi),t})),e.abrupt("return",s);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var t=Object(s.a)(r.a.mark((function t(n){var c,a,s;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.a.from("td_sertifikat").select("*").eq("id_detensi",e.datadetensi.id_detensi);case 2:return c=t.sent,a=c.data,c.error,s=a.map((function(e){return Object(y.a)(Object(y.a)({},e.data.title),{},Object(g.a)({},"issuingauthority",e.data.issuingauthority))})),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),q=function(){var e=Object(s.a)(r.a.mark((function e(t){var n,c,a,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="%"+t+"%",e.next=3,w.a.from("tr_action").select("*").ilike("ur_action",n);case 3:return c=e.sent,a=c.data,c.error,s=a.map((function(e){var t;return t={},Object(g.a)(t,"value",e.kd_action),Object(g.a)(t,"label",e.ur_action),t})),e.abrupt("return",s);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(K.jsxs)(K.Fragment,{children:[Object(K.jsxs)(l.db,{show:O,onClose:function(){return m(!1)},size:"lg",children:[Object(K.jsx)(l.gb,{children:Object(K.jsx)("h5",{children:"Tambah Deficiency"})}),Object(K.jsxs)(l.eb,{children:[Object(K.jsxs)(l.tb,{children:[Object(K.jsx)(l.u,{md:"3",children:Object(K.jsxs)(l.K,{children:[Object(K.jsx)(l.Z,{children:"Code"}),Object(K.jsx)(M.a,{onChange:function(e,t){return D(e,t)},value:u.codedeficiency,name:"codedeficiency",loadOptions:F})]})}),Object(K.jsx)(l.u,{md:"9",children:Object(K.jsxs)(l.K,{children:[Object(K.jsx)(l.Z,{children:"Nature of Deficiency"}),Object(K.jsx)(l.Ib,{name:"natureofdeficiency",value:u.natureofdeficiency,onChange:function(e){return z(e)}})]})})]}),Object(K.jsxs)(l.tb,{children:[Object(K.jsx)(l.u,{md:"6",children:Object(K.jsxs)(l.K,{children:[Object(K.jsx)(l.Z,{children:"Convention Reference"}),Object(K.jsx)(l.P,{name:"conventionreference",value:u.conventionreference,onChange:function(e){return z(e)}})]})}),Object(K.jsx)(l.u,{md:"6",children:Object(K.jsxs)(l.K,{children:[Object(K.jsx)(l.Z,{children:"Action Taken"}),Object(K.jsx)(M.a,{cacheOptions:!0,defaultOptions:!0,onChange:function(e,t){return D(e,t)},value:u.actiontaken,name:"actiontaken",loadOptions:q})]})})]}),Object(K.jsx)(l.tb,{children:Object(K.jsx)(l.u,{md:"6",children:Object(K.jsxs)(l.tb,{children:[Object(K.jsx)(l.u,{md:"5",children:Object(K.jsx)(l.Z,{children:"Responsible RO ?"})}),Object(K.jsx)(l.u,{md:"7",children:Object(K.jsxs)(l.K,{variant:"custom-checkbox",inline:!0,children:[Object(K.jsx)(l.Q,{onChange:function(e){return z(e)},checked:u.responsiblero,custom:!0,id:"responsiblero",name:"responsiblero"}),Object(K.jsx)(l.Z,{variant:"custom-checkbox",htmlFor:"responsiblero",children:"Yes"})]})})]})})}),Object(K.jsxs)(l.tb,{children:[Object(K.jsx)(l.u,{md:"6",children:Object(K.jsxs)(l.K,{children:[Object(K.jsx)(l.Z,{children:"Pilih Sertifikat"}),Object(K.jsx)(M.a,{onChange:function(e,t){return D(e,t)},value:u.certificate,name:"certificate",cacheOptions:!0,defaultOptions:!0,loadOptions:A})]})}),Object(K.jsx)(l.u,{md:"6",children:Object(K.jsxs)(l.K,{children:[Object(K.jsx)(l.Z,{children:"Issuing Authority"}),Object(K.jsx)(l.P,{value:u.issuingauthority,disabled:!0})]})})]})]}),Object(K.jsx)(l.fb,{children:Object(K.jsxs)("div",{className:"d-flex justify-content-end",children:[Object(K.jsx)("div",{className:"mr-2",children:Object(K.jsx)(l.f,{onClick:function(){return T()},color:"success",children:"Simpan"})}),Object(K.jsx)("div",{className:"mr-2",children:Object(K.jsx)(l.f,{color:"danger",children:"Batal"})})]})})]}),Object(K.jsxs)(l.tb,{style:{minHeight:"90vh"},children:[Object(K.jsx)(l.u,{md:"6",children:Object(K.jsx)("div",{style:{height:"100%"},children:Object(K.jsx)("embed",{src:c,type:"application/pdf",width:"100%",height:"100%"})})}),Object(K.jsxs)(l.u,{md:"6",children:[Object(K.jsx)("div",{className:"d-flex justify-content-end mb-2",children:Object(K.jsx)(l.f,{onClick:function(){m(!0),I(!Z)},className:"btn btn-sm btn-info",children:"Tambah"})}),Object(K.jsx)(l.y,{addTableClasses:"josss mantaps",items:v,fields:[{key:"no",label:"No"},{key:"codedeficiency",label:"Code"},{key:"natureofdeficiency",label:"Nature of Deficiency"},{key:"conventionreference",label:"Convention Reference"},{key:"actiontaken",label:"Action Taken"},{key:"responsiblero",label:"Responsible RO"},{key:"issuingauthority",label:"Issuing Authority"},{key:"action",label:"Action"}],scopedSlots:{responsiblero:function(e,t){return Object(K.jsx)("td",{children:e.responsiblero?"Yes":"No"})},no:function(e,t){return Object(K.jsx)("td",{children:t+1})},action:function(e,t){return Object(K.jsx)("td",{children:Object(K.jsxs)("div",{className:"d-flex justify-content-center",children:[Object(K.jsx)("div",{className:"mr-2",children:Object(K.jsx)(l.f,{className:"btn btn-info btn-sm",children:"Edit"})}),Object(K.jsx)("div",{className:"mr-2",children:Object(K.jsx)(l.f,{className:"btn btn-danger btn-sm",children:"Hapus"})})]})})}}})]})]})]})};t.default=function(){var e=Object(_.b)(),t=Object(N.g)(),n=Object(d.useState)(1),c=Object(i.a)(n,2),a=c[0],o=c[1],u=Object(d.useState)([]),b=Object(i.a)(u,2),h=b[0],f=b[1],m=Object(_.c)((function(e){return e.simView})),x=Object(_.c)((function(e){return e.forma})),p=Object(d.useState)(1),v=Object(i.a)(p,2),g=(v[0],v[1],function(e){o(e),console.log(e)}),y=Object(_.c)((function(e){return e.trigger}));Object(d.useEffect)((function(){(function(){var e=Object(s.a)(r.a.mark((function e(){var t,n,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("MANTAB"),e.next=3,w.a.from("td_dokumen").select("*").eq("id_detensi",C.id_detensi);case 3:t=e.sent,n=t.data,(c=t.error)?console.log(c):f(n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[y]),Object(d.useEffect)((function(){(function(){var t=Object(s.a)(r.a.mark((function t(){var n,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.a.from("td_detensi").select("data").eq("id_detensi",C.id_detensi);case 2:n=t.sent,c=n.data,n.error,e({type:"set",forma:c[0].data});case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]);var C=Object(_.c)((function(e){return e.datadetensi}));return Object(K.jsx)(l.j,{children:Object(K.jsxs)(l.k,{children:[Object(K.jsxs)("div",{className:"d-flex flex-row justify-content-end",children:[Object(K.jsx)("div",{className:"mr-2",children:Object(K.jsxs)(l.f,{onClick:function(){(function(){var e=Object(s.a)(r.a.mark((function e(n){var c,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.from("td_detensi").update({fl_lock:0,locked_by:m}).eq("id_detensi",n);case 2:if((c=e.sent).data,!(a=c.error)){e.next=9;break}return e.abrupt("return",a);case 9:t.push("/hdpsc");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}})()(C.id_detensi)},className:"btn btn-sm btn-danger",children:[Object(K.jsx)("i",{class:"fas fa-unlock"})," Batal Check Out"]})}),2==C.kd_status?Object(K.jsxs)(K.Fragment,{children:[Object(K.jsx)("div",{className:"mr-2",children:Object(K.jsxs)(l.f,{onClick:function(){return t.push("/hdpsc")},className:"btn btn-sm btn-info",children:[Object(K.jsx)("i",{class:"fas fa-arrow-circle-left"})," Kembali"]})}),Object(K.jsx)("div",{children:Object(K.jsxs)(l.f,{onClick:function(){return function(){var e=function(){var e=Object(s.a)(r.a.mark((function e(){var t,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.from("td_detensi").update({data:x,kd_status:3,fl_lock:0,locked_by:m}).eq("id_detensi",C.id_detensi);case 2:(t=e.sent).data,(c=t.error)?alert(c):n();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),n=function(){var e=Object(s.a)(r.a.mark((function e(){var n,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.from("th_detensi").insert([{id_detensi:C.id_detensi,kd_status:3,createdby:m}]);case 2:(n=e.sent).data,(c=n.error)?alert(c):(S.a.fire({timer:500,icon:"success",title:"Sukses"}),t.push("/hdpsc"));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}()},className:"btn btn-sm btn-warning",children:["Kirim ",Object(K.jsx)("i",{class:"fas fa-paper-plane"})]})})]}):Object(K.jsx)(K.Fragment,{})]}),Object(K.jsx)("div",{className:"d-flex flex-row justify-content-center mb-4",children:1==C.kd_status?Object(K.jsx)(K.Fragment,{children:Object(K.jsxs)("div",{onClick:function(){return g(1)},className:"d-flex flex-column mr-5 align-items-center",children:[Object(K.jsx)(j.a,{role:"button",className:1==a?"on":"off"}),Object(K.jsx)("div",{className:"mt-1",children:Object(K.jsx)("b",{children:Object(K.jsx)("h5",{children:"Initial Info"})})})]})}):Object(K.jsxs)(K.Fragment,{children:[Object(K.jsxs)("div",{onClick:function(){return g(1)},className:"d-flex flex-column mr-5 align-items-center",children:[Object(K.jsx)(j.a,{role:"button",className:1==a?"on":"off"}),Object(K.jsx)("div",{className:"mt-1",children:Object(K.jsx)("b",{children:Object(K.jsx)("h5",{children:"Initial Info"})})})]}),Object(K.jsxs)("div",{onClick:function(){return g(2)},className:"d-flex flex-column mr-5 align-items-center",children:[Object(K.jsx)(O,{role:"button",className:2==a?"on":"off"}),Object(K.jsx)("div",{className:"mt-1",children:Object(K.jsx)("b",{children:Object(K.jsx)("h5",{children:"Form A"})})})]}),Object(K.jsxs)("div",{onClick:function(){return g(3)},className:"d-flex flex-column mr-5 align-items-center",children:[Object(K.jsx)(k,{role:"button",className:3==a?"on":"off"}),Object(K.jsx)("div",{className:"mt-1",children:Object(K.jsx)("b",{children:Object(K.jsx)("h5",{children:"Form B"})})})]})]})}),1==a?Object(K.jsx)(P,{datadokumen:h,datadetensi:C}):2==a?Object(K.jsx)(B,{datadokumen:h,datadetensi:C}):Object(K.jsx)(R,{datadokumen:h,datadetensi:C})]})})}}}]);
//# sourceMappingURL=8.b75ac624.chunk.js.map