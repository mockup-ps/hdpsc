{"version":3,"sources":["supabase.js","assets/icons/animate/svg/001-approved.svg","views/pages/detensi/new/newDetensi.js"],"names":["supabase","createClient","process","_g","_excluded","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","Svg001Approved","_ref","svgRef","title","titleId","props","id","enableBackground","height","viewBox","width","xmlns","ref","d","fill","ForwardRef","NewDetensi","simView","useSelector","state","dispatch","useDispatch","history","useHistory","initial","useState","data","setData","handleInputChange","e","sementara","name","value","type","handleKirim","a","namakapal","imokapal","tgldetensi","alert","from","insert","kd_status","error","id_detensi","createdby","kirimHistori","datas","datadetensi","push","className","onClick","console","log","role","md","onChange","color"],"mappings":"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","file":"static/js/28.1e1d2d65.chunk.js","sourcesContent":["import { createClient } from '@supabase/supabase-js'\r\n\r\nconst supabaseUrl = 'https://ctvjpxocqeajngziaxji.supabase.co'\r\nconst supabaseKey = process.env.REACT_APP_SUPABASE_KEY\r\nconst supabase = createClient(supabaseUrl, supabaseKey)\r\n\r\nexport default supabase","var _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction Svg001Approved(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Capa_1\",\n    enableBackground: \"new 0 0 511.996 511.996\",\n    height: 80,\n    viewBox: \"0 0 511.996 511.996\",\n    width: 80,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m473.104 112.473v358.908c0 22.43-18.186 40.616-40.616 40.616h-352.98c-22.43 0-40.616-18.186-40.616-40.616v-430.762c0-22.43 18.186-40.616 40.616-40.616h281.127z\",\n    fill: \"#f8f6f9\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m473.104 112.473h-71.854c-22.43 0-40.616-18.186-40.616-40.616v-71.853\",\n    fill: \"#dddaec\"\n  }), /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m373.134 175.972c5.167-10.413.912-23.033-9.501-28.2l-32.583-16.139c-10.413-5.167-23.033-.912-28.2 9.501l-64.477 130.09-31.399-52.513c-5.966-9.981-18.875-13.228-28.856-7.262l-31.207 18.651c-9.965 5.966-13.228 18.875-7.262 28.856l61.87 103.49c3.951 6.606 11.197 10.541 18.875 10.237l43.859-1.728c7.694-.304 14.604-4.783 18.011-11.677z\",\n    fill: \"#95d6a4\"\n  }), /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"#78c2a4\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m251.489 293.16 75.349-152.026c1.68-3.387 4.157-6.108 7.082-8.08l-2.87-1.422c-10.413-5.167-23.033-.912-28.2 9.501l-64.477 130.09z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m225.507 362.446-61.87-103.49c-5.966-9.981-2.703-22.889 7.262-28.856l29.954-17.902c-6.571-4.529-15.432-5.114-22.735-.749l-31.207 18.651c-9.965 5.966-13.228 18.875-7.262 28.856l61.87 103.49c3.951 6.606 11.197 10.541 18.874 10.237l17.774-.7c-5.219-1.391-9.803-4.76-12.66-9.537z\"\n  }))), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m103.484 511.993h-23.972c-22.427 0-40.62-18.182-40.62-40.619v-430.755c0-22.437 18.193-40.619 40.62-40.619h23.972c-22.437 0-40.62 18.182-40.62 40.619v430.754c0 22.437 18.183 40.62 40.62 40.62z\",\n    fill: \"#dddaec\"\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(Svg001Approved);\nexport default __webpack_public_path__ + \"static/media/001-approved.7a2cf538.svg\";\nexport { ForwardRef as ReactComponent };","import { CCardBody, CCard, CFormGroup, CLabel, CInput, CRow , CCol, CButton} from '@coreui/react'\r\nimport {React , useState} from 'react'\r\nimport {ReactComponent as Initial} from '../../../../assets/icons/animate/svg/001-approved.svg'\r\nimport supabase from '../../../../supabase'\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nconst NewDetensi = () =>{\r\n    const simView = useSelector((state)=>state.simView)\r\n    const dispatch = useDispatch()\r\n    let history = useHistory()\r\n    const initial = useSelector((state)=>state.initial)\r\n    const [data, setData] = useState(1)\r\n    const [input, setInput]= useState({})\r\n    const handleChangePage = (e) =>{\r\n        setData(e)\r\n        console.log(e)\r\n    }\r\n    const handleInputChange= (e) =>{\r\n        let sementara = {...initial, [e.target.name]:e.target.value}\r\n        dispatch({type:'set', initial:sementara})\r\n    }\r\n    const handleKirim = async () =>{\r\n        if(!initial.namakapal || !initial.imokapal || !initial.tgldetensi){\r\n            alert(\"Harap Dilengkapi\")\r\n        } else {\r\n            const { data, error } = await supabase\r\n            .from('td_detensi')\r\n            .insert([\r\n                { data: initial, kd_status : 1},\r\n            ])\r\n            const kirimHistori = await supabase\r\n            .from('th_detensi')\r\n            .insert([\r\n                { id_detensi: data[0].id_detensi, data: initial, kd_status : 1, createdby:simView},\r\n            ])\r\n            if (data.error || kirimHistori.error){\r\n                alert(\"Error\")\r\n            } else {\r\n                dispatch({type:'set', initial:{}})\r\n                let datas = {['id_detensi']:data[0].id_detensi, ...data[0].data, ['kd_status']:data[0].kd_status} \r\n                dispatch({type:'set', datadetensi:datas})                               \r\n                history.push('/hdpsc/edit')\r\n            }\r\n        }\r\n    }\r\n    return(\r\n        <CCard>\r\n            <CCardBody>\r\n                <div className=\"d-flex flex-row justify-content-center mb-4\">\r\n                    <div onClick={()=>handleChangePage(1)} className=\"d-flex flex-column mr-5 align-items-center\">\r\n                        <Initial role=\"button\" className={\r\n                            data == 1 ?\r\n                            \"on\"\r\n                            :\r\n                            \"off\"\r\n                        } />\r\n                        <div className=\"mt-1\">\r\n                            <b><h5>Initial Info</h5></b>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <CRow>\r\n                    <CCol md=\"12\">\r\n                        <CRow>\r\n                            <CCol md=\"12\">\r\n                                <CFormGroup>\r\n                                    <CLabel><b>Nama Kapal</b></CLabel>\r\n                                    <CInput name=\"namakapal\" value={initial.namakapal} onChange={(e)=>handleInputChange(e)} />\r\n                                </CFormGroup>                                \r\n                            </CCol>                                \r\n                        </CRow>\r\n                        <CRow>\r\n                            <CCol md=\"12\">\r\n                                <CFormGroup>\r\n                                    <CLabel><b>Nomor IMO Kapal</b></CLabel>\r\n                                    <CInput name=\"imokapal\" value={initial.imokapal} onChange={(e)=>handleInputChange(e)}/>\r\n                                </CFormGroup>                                \r\n                            </CCol>                                \r\n                        </CRow>  \r\n                        <CRow>\r\n                            <CCol md=\"12\">\r\n                                <CFormGroup>\r\n                                    <CLabel><b>Tanggal Detensi</b></CLabel>\r\n                                    <CInput name=\"tgldetensi\" value={initial.tgldetensi} onChange={(e)=>handleInputChange(e)} type=\"date\"/>\r\n                                </CFormGroup>                                \r\n                            </CCol>                                \r\n                        </CRow>  \r\n                        <CRow>\r\n                            <CCol md=\"12\">\r\n                                <CFormGroup>\r\n                                    <div className=\"d-flex justify-content-end\">\r\n                                        <div className=\"mr-2\">\r\n                                            <CButton onClick={()=>handleKirim()} color=\"success\">Simpan</CButton>\r\n                                        </div>\r\n                                        <div className=\"mr-2\">\r\n                                            <CButton color=\"danger\">Batal</CButton>\r\n                                        </div>                                \r\n                                    </div>                                     \r\n                                </CFormGroup>\r\n                            </CCol>\r\n                        </CRow>                      \r\n                    </CCol>\r\n                    {/* <CCol className=\"d-flex align-items-center justify-content-center\" md=\"6\">\r\n                        <div className=\"d-flex flex-column\">\r\n                            <div className=\"mb-2\">\r\n                                <input type=\"checkbox\" className=\"mr-2\"/>\r\n                                Saya Menyatakan bahwa Data yang Saya Isikan adalah Benar                            \r\n                            </div>\r\n                            <div className=\"d-flex justify-content-center\">\r\n                                <div className=\"mr-2\">\r\n                                    <CButton onClick={()=>handleKirim()} color=\"success\">Simpan</CButton>\r\n                                </div>\r\n                                <div className=\"mr-2\">\r\n                                    <CButton color=\"danger\">Batal</CButton>\r\n                                </div>                                \r\n                            </div>                            \r\n                        </div>\r\n                    </CCol> */}\r\n                </CRow>                              \r\n            </CCardBody>\r\n        </CCard>\r\n    )\r\n}\r\n\r\nexport default NewDetensi"],"sourceRoot":""}